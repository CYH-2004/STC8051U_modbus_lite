C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE oled12824_iic
OBJECT MODULE PLACED IN .\Objects\oled12824_iic.obj
COMPILER INVOKED BY: D:\Software_D\Keil_v5\C251\BIN\C251.EXE SSD1306\oled12824_iic.c XSMALL INTR2 BROWSE INCDIR(.\User;.
                    -\Modbus_lite;.\Library;.\Basic;.\SSD1306) DEBUG PRINT(.\Listings\oled12824_iic.lst) TABS(2) OBJECT(.\Objects\oled12824_i
                    -ic.obj) 

stmt  level    source

    1          #include "oled12824_iic.h"
    2          #include "iic.h"
    3          #include "oled_font.h"
    4          #include <INTRINS.H>
    5          #include <stdlib.h>
    6          #include "math.h"
    7          #include "SysConfig.h"
    8          // #define  MAIN_Fosc      24000000UL  //ISPÏÂÔØÊ±Ðè½«¹¤×÷ÆµÂÊÉèÖÃÎª24MHz
    9          
   10          //OLEDµÄÏÔ´æ
   11          //´æ·Å¸ñÊ½ÈçÏÂ.
   12          //[0]0 1 2 3 ... 127
   13          //[1]0 1 2 3 ... 127
   14          //[2]0 1 2 3 ... 127
   15          //[3]0 1 2 3 ... 127
   16          //[4]0 1 2 3 ... 127
   17          //[5]0 1 2 3 ... 127
   18          //[6]0 1 2 3 ... 127
   19          //[7]0 1 2 3 ... 127
   20          
   21          
   22          char xdata WaveData[128];
   23          #if     OLED_GRAM_Mode == 0             //0£º8*128¼¶»º´æ
   24              u8 xdata OLED_GRAM[8][128];         // OLEDÈ«¾Ö»º´æ
*** WARNING C53 IN LINE 24 OF SSD1306\oled12824_iic.c: redefinition of 'OLED_GRAM': different memory spaces
   25          
   26          #elif   OLED_GRAM_Mode == 1             //1:1024¼¶»º´æ
                   u8 xdata OLED_GRAM[1024];           // OLEDÈ«¾Ö»º´æ
               
               #else                                   //2£ºÖ¸ÁîÄ£Ê½
               
               #endif
   32          
   33          
   34          
   35          void delay_oled_ms(u16 ms)
   36          {
   37   1          u16 xdata i;
   38   1          do{
   39   2              i = MAIN_Fosc / 6000;
   40   2                while(--i);   //6T per loop
   41   2          }while(--ms);
   42   1      }
   43          
   44          
   45          /**
   46           * @name OLED_Write_Byte
   47           * @brief ÏòSSD1306Ð´ÈëÒ»¸ö×Ö½Ú
   48           * @param dat:ÒªÐ´ÈëµÄÃüÁî/Êý¾Ý
   49           * @param cmd:ÃüÁî/Êý¾Ý±êÖ¾ 0£º±íÊ¾ÃüÁî 1£º±íÊ¾Êý¾Ý
   50           * @return ÎÞ
   51           * @version °æ±¾£ºv1.0
   52           * @date ÈÕÆÚ£º2023-12-30
   53           * @author ×÷Õß£ºÏ«
   54           * @note ×¢ÊÍ£º
   55           */
   56          void OLED_Write_Byte(u8 dat,u8 cmd)         //Ð´ÈëÒ»¸ö×Ö½Ú
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 2   

   57          {
   58   1          if (cmd)
   59   1              IIC_Write_Byte(SLAVE_OLED_12864, OLED_WriteData_Addr, &dat, 1);
   60   1          else
   61   1              IIC_Write_Byte(SLAVE_OLED_12864, OLED_WriteCom_Addr, &dat, 1);
   62   1      }
   63          
   64          /*
   65          ÏÔ´æµØÖ·Ä£Ê½ Ö¸Áî£¨20h£©¸ßÎ»
   66          00 Ë®Æ½µØÖ·Ä£Ê½ £¨00h£©µÍÎ» £ºÖ®×ÖÐÎÅÅÁÐ£¬µ±Êý¾ÝµØÖ·³¬³öÓÒ±ß½çÊ±£¬»á×Ô¶¯ÏÂÒÆÒ»ÐÐ²¢ÔÚ×î×ó±ßÏÔÊ¾£»¶ø×îºóÒ»Ð
             -Ð³¬³öÊ±»áÔÚµÚÒ»ÐÐÏÔÊ¾¡£
   67          01 ´¹Ö±µØÖ·Ä£Ê½ £¨01h£©µÍÎ»£º
   68          10 Ò³µØÖ·Ä£Ê½   £¨02h£©µÍÎ»£ºÓëË®Æ½µØÖ·Ä£Ê½ÀàËÆ£¬µ«³¬³ö±ß½çÊ±£¬»áÔÚÍ¬ÐÐµÄ×î×ó±ßÏÔÊ¾£¬¶ø²»ÊÇÏÂÒ»ÐÐ¡£
   69          11 ÎÞÐ§Ä£Ê½     £¨03h£©µÍÎ»£º
   70          */
   71          /**
   72           * @name OLED_Init
   73           * @brief ³õÊ¼»¯SSD1306
   74           * @param ÎÞ
   75           * @return ÎÞ
   76           * @version °æ±¾£ºv1.0
   77           * @date ÈÕÆÚ£º2023-12-31
   78           * @author ×÷Õß£ºÏ«
   79           * @note ×¢ÊÍ£º
   80           */
   81          void OLED_Init(void)        //³õÊ¼»¯OLED
   82          {
   83   1          IIC_Init();
   84   1          delay_oled_ms(100);     //ÉÔ×÷ÑÓÊ±£¬µÈµ¥Æ¬»úÏµÍ³ÎÈ¶¨ÔÙ½øÐÐÅäÖÃ£¬·ñÔòÓÐµÄÐÍºÅµÄÆÁÄ»Ð¾Æ¬»á³õÊ¼»¯Ê§°Ü
   85   1          delay_oled_ms(200);
   86   1      
   87   1          OLED_Write_Byte(0xAE, OLED_CMD);//---ae:ÉèÖÃÏÔÊ¾¹Ø af:ÉèÖÃÏÔÊ¾¿ªÆô
   88   1      
   89   1          OLED_Write_Byte(0x20, OLED_CMD);//-Set Page Addressing Mode (0x00/0x01/0x02) ÉèÖÃÄÚ´æµØÖ·Ä£Ê½
   90   1          OLED_Write_Byte(0x02, OLED_CMD);//00£ºË®Æ½µØÖ·Ä£Ê½ 01£º´¹Ö±Ä£Ê½ 02£ºÒ³µØÖ·Ä£Ê½
   91   1      
   92   1      #if     OLED_SIZE == 0      //0.96´ç
   93   1          OLED_Write_Byte(0x00, OLED_CMD);//---ÉèÖÃÁÐÆðÊ¼µØÖ·µÍÎ»
   94   1      #elif   OLED_SIZE == 1      //1.30´ç
                   OLED_Write_Byte(0x02, OLED_CMD);//---ÉèÖÃÁÐÆðÊ¼µØÖ·µÍÎ»
               #endif
   97   1          OLED_Write_Byte(0x10, OLED_CMD);//---ÉèÖÃÁÐÆðÊ¼µØÖ·¸ßÎ»
   98   1      
   99   1          OLED_Write_Byte(0x40, OLED_CMD);//--- ÉèÖÃÏÔÊ¾¿ªÊ¼ÐÐ(0x40~0x7F)£ºÏÔ´æÖÐµÄµÚ¼¸ÐÐ×÷ÎªÆÁÄ»µÄµÚÒ»ÐÐ£¬Ö®Ç°
             -µÄÄÚÈÝ²¹ÔÚÆÁÄ»ÏÂ·½
  100   1          OLED_Write_Byte(0xb0, OLED_CMD);//--ÉèÖÃÄ¿±êÏÔÊ¾Î»ÖÃÒ³µÄÆðÊ¼µØÖ·£ºb0-b7
  101   1      
  102   1          OLED_Write_Byte(0x81, OLED_CMD);//---Îª BANK0 ÉèÖÃ¶Ô±È¶È¿ØÖÆ
  103   1          OLED_Write_Byte(Brightness, OLED_CMD);//--0~255;Ä¬ÈÏ0X7F (ÁÁ¶ÈÉèÖÃ,Ô½´óÔ½ÁÁ)
  104   1      
  105   1          OLED_Write_Byte(0xA4, OLED_CMD);//---A4hÏÔÊ¾ÏÔ´æÄÚÈÝ£¬A5hÎÞÊÓÏÔ´æÄÚÈÝµãÁÁÈ«ÆÁ
  106   1      
  107   1          OLED_Write_Byte(0xA6, OLED_CMD);//---ÉèÖÃÆÁÄ»ÏÔÊ¾Ä£Ê½ a6:ÉèÖÃÕý³£ÏÔÊ¾ a7:·´°×ÏÔÊ¾
  108   1      
  109   1          OLED_Write_Byte(0xa1, OLED_CMD);//---ÉèÖÃ»­ÃæÏÔÊ¾·½Ïò a0×óÓÒ·´ÖÃ a1Õý³£
  110   1          OLED_Write_Byte(0xC8, OLED_CMD);//---ÉèÖÃ»­ÃæÏÔÊ¾·½Ïò c0ÉÏÏÂ·´ÖÃ c8Õý³£
  111   1      
  112   1          OLED_Write_Byte(0xA8, OLED_CMD);//---ÉèÖÃ¸´ÓÃÂÊ£¨0-63£©
  113   1          OLED_Write_Byte(0x3f, OLED_CMD);//--00h-3fh
  114   1      
  115   1          OLED_Write_Byte(0xD3, OLED_CMD);//--ÉèÖÃÆÁÄ»ÉÏÏÂÆ«ÒÆ
  116   1          OLED_Write_Byte(0x00/*¡À8µÄ±¶Êý*/, OLED_CMD);//--00h-ffh
  117   1      
  118   1          OLED_Write_Byte(0xd5, OLED_CMD);//---ÉèÖÃÏÔÊ¾Ê±ÖÓ·ÖÆµÂÊ¡¢Õñµ´Æ÷ÆµÂÊ£¨Ë¢ÐÂÂÊ£©
  119   1          OLED_Write_Byte(0xc0, OLED_CMD);//--10h-f0h,1-f,Ô½´óËÙ¶ÈÔ½¿ì£¨ÊÊºÏµ÷½ÚÊÖ»úÅÄÉã£©
  120   1      
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 3   

  121   1          OLED_Write_Byte(0xD9, OLED_CMD);//---ÖÃÖØ³äµçÖÜÆÚ
  122   1          OLED_Write_Byte(0xF1, OLED_CMD);//--Set Pre-Charge as 15 Clocks & Discharge as 1 Clock
  123   1      
  124   1          OLED_Write_Byte(0xDA, OLED_CMD);//---ÉèÖÃ COM Òý½ÅÓ²¼þÅäÖÃ
  125   1          OLED_Write_Byte(0x12, OLED_CMD);//--12864:0x12£¬12832:0x02
  126   1      
  127   1          OLED_Write_Byte(0xDB, OLED_CMD);//---ÉèÖÃ Vcomh ·´Ñ¹Öµ
  128   1          OLED_Write_Byte(0x30, OLED_CMD);//--Set VCOM Deselect Level
  129   1      
  130   1          
  131   1          OLED_Write_Byte(0x8D, OLED_CMD);//--- ÉèÖÃµçºÉ±Ã¿ªÆô£¬ÉýÑ¹ÔÊÐí
  132   1          OLED_Write_Byte(0x14, OLED_CMD);//--set(0x10) disable set(0x14) enable
  133   1          
  134   1          // OLED_Write_Byte(0xD8,OLED_CMD);//set area color mode off
  135   1          // OLED_Write_Byte(0x05,OLED_CMD);//
  136   1          
  137   1          OLED_Write_Byte(0xAF, OLED_CMD);//---ÉèÖÃÏÔÊ¾¿ª£¨½øÈëÕý³£¹¤×÷Ä£Ê½£©
  138   1      
  139   1          OLED_GRAM_Clear(0);
  140   1          OLED_Set_Pos(0, 0);
  141   1          OLED_Display_On();
  142   1      }
  143          
  144          /**
  145           * @name OLED_Set_Pos
  146           * @brief Ö¸¶¨Òª²Ù×÷µÄÏñËØµãµÄ×ø±ê£¨µØÖ·£©
  147           * @param x: 0~127
  148           * @param y: 0~7
  149           * @return ÎÞ
  150           * @version °æ±¾£ºv1.0
  151           * @date ÈÕÆÚ£º2023-12-30
  152           * @author ×÷Õß£ºÏ«
  153           * @note ×¢ÊÍ£º¸ù¾ÝÊÖ²áÖ¸Áî£¬µØÖ·µÄµÍ4Î»Ö¸ÁîÎª00h~0fh£¬µØÖ·µÄ¸ß4Î»Ö¸ÁîÎª10h~1fh¡£
  154           *  ¼ÙÉè´ËÊ±x=100 -> x=0x64 -> 0x64&0xf0=0x60 -> 0x60>>4=0x06 -> 0x06|0x10=0x16 £¬¼´¸ß4Î»Îª6
  155           *  ¶ø0x64&0x0f=0x04 £¬¼´µÍ4Î»Îª4¡£½áºÏÆðÀ´¼´64h¡£
  156           */
  157          void OLED_Set_Pos(u8 x,u8 y)                //OLEDÉèÖÃÏÔÊ¾Î»ÖÃ
  158          {
  159   1          OLED_Write_Byte((u8)(0XB0 + y), OLED_CMD);  //ÉèÖÃY×ø±ê£¬²é¿´ÊÖ²áÊäÈë0Xb0¾ÍÊÇÆðÊ¼µØÖ·
  160   1      #if     OLED_SIZE == 0      //0.96´ç
  161   1          OLED_Write_Byte(((x & 0xf0) >> 4) | 0x10, OLED_CMD);        //·¢ËÍ×ø±êµÄ¸ß4Î»µÄÖµ 
  162   1          OLED_Write_Byte((x & 0x0f), OLED_CMD);                      //·¢ËÍ×ø±êµÄµÍ4Î»µÄÖµ 
  163   1      
  164   1      #elif   OLED_SIZE == 1      //1.30´ç    
                   OLED_Write_Byte((((x + 2) & 0xf0) >> 4) | 0x10, OLED_CMD);  //·¢ËÍ×ø±êµÄ¸ß4Î»µÄÖµ
                   OLED_Write_Byte(((x + 2) & 0x0f), OLED_CMD);                //·¢ËÍ×ø±êµÄµÍ4Î»µÄÖµ
               
               #endif
  169   1      }
  170          
  171          /**
  172           * @name OLED_Display_On
  173           * @brief ¿ªÆôOLEDÏÔÊ¾
  174           * @param ÎÞ
  175           * @return ÎÞ
  176           * @version °æ±¾£ºv1.0
  177           * @date ÈÕÆÚ£º2023-12-30
  178           * @author ×÷Õß£ºÏ«
  179           * @note ×¢ÊÍ£º
  180           */
  181          void OLED_Display_On(void)              //¿ªÆôOLEDÏÔÊ¾
  182          {
  183   1          OLED_Write_Byte(0x8d, OLED_CMD);    //ÉèÖÃ DCDCÃüÁî
  184   1          OLED_Write_Byte(0x14, OLED_CMD);    //DCDC ON
  185   1          OLED_Write_Byte(0xaf, OLED_CMD);    //ÏÔÊ¾¿ªÆô
  186   1      }
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 4   

  187          
  188          /**
  189           * @name OLED_Display_Off
  190           * @brief ¹Ø±ÕOLEDÏÔÊ¾
  191           * @param ÎÞ
  192           * @return ÎÞ
  193           * @version °æ±¾£ºv1.0
  194           * @date ÈÕÆÚ£º2023-12-30
  195           * @author ×÷Õß£ºÏ«
  196           * @note ×¢ÊÍ£º
  197           */
  198          void OLED_Display_Off(void)             //¹Ø±ÕOLEDÏÔÊ¾
  199          {
  200   1          OLED_Write_Byte(0x8d, OLED_CMD);    //ÉèÖÃ DCDCÃüÁî
  201   1          OLED_Write_Byte(0x10, OLED_CMD);    //DCDC OFF
  202   1          OLED_Write_Byte(0xae, OLED_CMD);    //ÏÔÊ¾¹Ø±Õ
  203   1      }
  204          
  205          /**
  206           * @name OLED_LightSet
  207           * @brief OLEDÁÁ¶ÈÉèÖÃ
  208           * @param num£º0~255
  209           * @return ÎÞ
  210           * @version °æ±¾£ºv1.0
  211           * @date ÈÕÆÚ£º2023-12-30
  212           * @author ×÷Õß£ºÏ«
  213           * @note ×¢ÊÍ£º
  214           */
  215          void OLED_LightSet(u8 num)     //ÁÁ¶ÈÉèÖÃ
  216          {
  217   1          OLED_Write_Byte(0x81,OLED_CMD);     //
  218   1          OLED_Write_Byte(num,OLED_CMD);      //  
  219   1          OLED_Write_Byte(0xDB,OLED_CMD);     //--set vcomh
  220   1          OLED_Write_Byte(0x20,OLED_CMD);     //Set VCOM Deselect Level   
  221   1      }
  222          
  223          /**
  224           * @name OLED_Clear
  225           * @brief ÇåÆÁº¯Êý
  226           * @param ÎÞ
  227           * @return ÎÞ
  228           * @version °æ±¾£ºv1.0
  229           * @date ÈÕÆÚ£º2023-12-30
  230           * @author ×÷Õß£ºÏ«
  231           * @note ×¢ÊÍ£ºÇåÍêÆÁ,0£ºÕû¸öÆÁÄ»ÊÇºÚÉ«µÄºÍÃ»µãÁÁÒ»Ñù 1£ºÕû¸öÆÁÄ»ÊÇÈ«ÁÁµÄ
  232           */
  233          void OLED_Clear(bit mode)       //ÇåÆÁº¯Êý
  234          {
  235   1          u8 xdata i, n;
  236   1          for (i = 0; i<8; i++)       //Ñ­»·8ÐÐ
  237   1          {
  238   2              OLED_Write_Byte((u8)(0xb0 + i), OLED_CMD);    //ÉèÖÃÒ³µØÖ·£¨0~7£©
  239   2              #if     OLED_SIZE == 0      //0.96´ç
  240   2              OLED_Write_Byte(0x00, OLED_CMD);//---set low column address ÉèÖÃµÍÁÐµØÖ·
  241   2              #elif   OLED_SIZE == 1      //1.30´ç
                       OLED_Write_Byte(0x02, OLED_CMD);//---set low column address ÉèÖÃµÍÁÐµØÖ·
                       #endif
  244   2              OLED_Write_Byte(0x10, OLED_CMD);        //ÉèÖÃÏÔÊ¾Î»ÖÃ¡ªÁÐ¸ßµØÖ·
  245   2              for (n = 0; n < Max_Column; n++)        // Ñ­»·128ÁÐ
  246   2                  if(mode)
  247   2                  OLED_Write_Byte(0xff, OLED_DATA);      //µãÁÁÒ»¸öµÆ×éÀïµÂ8¸öLED
  248   2                  else
  249   2                  OLED_Write_Byte(0x00, OLED_DATA);      //Ï¨ÃðÒ»¸öµÆ×éÀïµÂ8¸öLED
  250   2          }//¸üÐÂÏÔÊ¾
  251   1      }
  252          
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 5   

  253          /**
  254           * @name OLED_Index
  255           * @brief m^nº¯Êý
  256           * @param m^n
  257           * @return result
  258           * @version °æ±¾£ºv1.0
  259           * @date ÈÕÆÚ£º2023-12-30
  260           * @author ×÷Õß£ºÏ«
  261           * @note ×¢ÊÍ£º
  262           */
  263          u32 OLED_Index(u8 m, u8 n)  //m^nº¯Êý
  264          {
  265   1          u32 result = 1;
  266   1          while (n--)result *= m;
  267   1          return result;
  268   1      }
  269          
  270          
  271          /****************************************************************************/
  272          /****************************************************************************/
  273          /****************************************************************************/
  274          #if     OLED_GRAM_Mode == 0             //0£º8*128¼¶»º´æ
  275          
  276          /**
  277           * @name OLED_GRAM_Clear
  278           * @brief Í¨¹ý»º³åÊý×é£¬ÈÃOLEDÆÁÄ» 
  279           * @param mode:0£ºÈ«Ãð 1£ºÈ«ÁÁ
  280           * @return ÎÞ
  281           * @version °æ±¾£ºv1.0
  282           * @date ÈÕÆÚ£º2024-1-3
  283           * @author ×÷Õß£ºÏ«
  284           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  285           */
  286          void OLED_GRAM_Clear(bit mode)       //Í¨¹ý»º³åÊý×é£¬ÈÃOLEDÆÁÄ»È«ÁÁÈ«Ãð
  287          {
  288   1          u8 xdata x, y;
  289   1      
  290   1          for ( y = 0; y < 8; y++)
  291   1          {
  292   2              for ( x = 0; x < 128; x++)
  293   2              {
  294   3                  if (mode)
  295   3                      OLED_GRAM[y][x] = 0xff;
  296   3                  else
  297   3                      OLED_GRAM[y][x] = 0x00;
  298   3              }
  299   2          }
  300   1          // OLED_Refresh_Gram();
  301   1      }
  302          
  303          /**
  304           * @name OLED_Refresh_Gram
  305           * @brief OLEDË¢ÐÂÏÔÊ¾
  306           * @param ÎÞ
  307           * @return ÎÞ
  308           * @version °æ±¾£ºv1.0
  309           * @date ÈÕÆÚ£º2024-1-3
  310           * @author ×÷Õß£ºÏ«
  311           * @note ×¢ÊÍ£º
  312           */
  313          void OLED_Refresh_Gram(void)            //OLEDË¢ÐÂÏÔÊ¾
  314          {
  315   1          u8 xdata x,y;
  316   1          for(y=0;y<8;y++)
  317   1          {
  318   2              OLED_Set_Pos(0, y);
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 6   

  319   2              for (x = 0; x < 128; x++)
  320   2                  OLED_Write_Byte(OLED_GRAM[y][x], OLED_DATA);
  321   2          }
  322   1      }
  323          
  324          /**
  325           * @name OLED_RefreshPart_Gram
  326           * @brief OLED¾Ö²¿Ë¢ÐÂÏÔÊ¾
  327           * @param xstart:ÐèÒªË¢ÐÂÇøÓòµÄÆðÊ¼£¨×óÉÏ½Ç£©×ø±êÖµ
  328           * @param ystart:ÐèÒªË¢ÐÂÇøÓòµÄÆðÊ¼£¨×óÉÏ½Ç£©×ø±êÖµ
  329           * @param width:ÐèÒªË¢ÐÂµÄÇøÓò¿í¶ÈÓÐ¶àÉÙÁÐ£¬0-127
  330           * @param height:ÐèÒªË¢ÐÂµÄÇøÓò¸ß¶ÈÓÐ¶àÉÙÐÐ£¬0-7
  331           * @return ÎÞ
  332           * @version °æ±¾£ºv1.0
  333           * @date ÈÕÆÚ£º2024-1-3
  334           * @author ×÷Õß£ºÏ«
  335           * @note ×¢ÊÍ£º
  336           */
  337          void OLED_RefreshPart_Gram(u8 xstart, u8 ystart, u8 width, u8 height)            //OLED¾Ö²¿Ë¢ÐÂÏÔÊ¾
  338          {
  339   1          u8 x, y;
  340   1          for ( y = ystart; y < ( ystart + height ); y++)
  341   1          {
  342   2              OLED_Set_Pos(xstart, y);
  343   2              for ( x = xstart; x <  (xstart + width ); x++)
  344   2              {
  345   3                  OLED_Write_Byte(OLED_GRAM[y][x], OLED_DATA);
  346   3              }
  347   2          }
  348   1      }
  349          
  350          /**
  351           * @name OLED_DrawPoint
  352           * @brief OLED»­Ò»¸öµã£¬0£ºÏ¨Ãð 1£ºµãÁÁ
  353           * @param x:ºáÏò×ø±ê 0-127
  354           * @param y:ÊúÏò×ø±ê 0-63
  355           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  356           * @return ÎÞ
  357           * @version °æ±¾£ºv1.0
  358           * @date ÈÕÆÚ£º2024-1-3
  359           * @author ×÷Õß£º
  360           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  361           */
  362          void OLED_DrawPoint(u8 x,u8 y,bit mode)     //OLED»­Ò»¸öµã£¬0£ºÏ¨Ãð 1£ºµãÁÁ
  363          {
  364   1          if((x<0)||(x>127)||(y<0)||(y>63))
  365   1              return;     //·ÀÖ¹³¬³öÆÁÄ»
  366   1          if( mode )
  367   1              OLED_GRAM[y / 8][x] |= 0x01 << (y % 8);
  368   1          else
  369   1              OLED_GRAM[y / 8][x] &= ~(0x01 << (y % 8));
  370   1          // OLED_Refresh_Gram();                    //ÆôÓÃÕâ¸öºóÐø»­ÏßµÈ£¬½«»áÖðµã»æÖÆ£¬µ«ºÄÊ±³¤
  371   1      }
  372          
  373          /**
  374           * @name OLED_FourPoints
  375           * @brief 4¸öÏñËØµãÎªÒ»×é£¬¿ØÖÆÒ»×éÖÐµÄÒ»¸öµÆÁÁÃð
  376           * @param x0:ÆðÊ¼Î»ÖÃ0-1
  377           * @param y0:ÆðÊ¼Î»ÖÃ0-1
  378           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  379           * @return ÎÞ
  380           * @version °æ±¾£ºv1.0
  381           * @date ÈÕÆÚ£º2024-1-13
  382           * @author ×÷Õß£º
  383           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  384           */
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 7   

  385          void OLED_FourPoints(u8 x0,u8 y0,bit mode)          //4¸öÏñËØµãÎªÒ»×é£¬¿ØÖÆÁÁÃð
  386          {
  387   1          u8 xdata x, y;
  388   1          for ( y = y0; y < 64; y+=2)
  389   1          {
  390   2              for ( x = x0; x < 128; x+=2)
  391   2              {
  392   3                  if(mode)
  393   3                      OLED_GRAM[y / 8][128 + x] |= 0x01 << (y % 8);
  394   3                  else
  395   3                      OLED_GRAM[y / 8][128 + x] &= ~(0x01 << (y % 8));
  396   3              }
  397   2          }
  398   1      }
  399          
  400          /**
  401           * @name OLED_Mask_Gray
  402           * @brief »Ò½×ÃÉ°æÏÔÊ¾Ò»¸öÍ¼Æ¬£¬ÑÜÉúÓÚOLED_FourPointsº¯Êý
  403           * @param x0:ÆðÊ¼Î»ÖÃ
  404           * @param y0:ÆðÊ¼Î»ÖÃ
  405           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  406           * @return ÎÞ
  407           * @version °æ±¾£ºv1.0
  408           * @date ÈÕÆÚ£º2024-1-13
  409           * @author ×÷Õß£º
  410           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  411           */
  412          void OLED_Mask_Gray(u8 x0, u8 y0, u8 BMP[], bit mode)  //ÃÉ°æº¯Êý£¬ÑÜÉúÓÚOLED_FourPointsº¯Êý
  413          {
  414   1          u8 xdata x, y;
  415   1          bit z;
  416   1          for ( y = y0; y < 64; y+=2)
  417   1          {
  418   2              for ( x = x0; x < 128; x+=3)    //6½×»Ò¶È
  419   2              {
  420   3                  z = BMP[128 * (y / 8) + x] & (0x01 << (y % 8)); // ½«ÃÉ°æÉÏµÄÏñËØµã×ø±ê£¬¶ÔÓ¦BMPÊý×éÀïÏàÍ¬Î»Ö
             -ÃµÄÄÇ¸öµãµÄÊýÖµ£¬¸³Öµ¸ø±äÁ¿z
  421   3                  if(z==1)
  422   3                  {
  423   4                      if(mode)
  424   4                      OLED_DrawPoint(x, y, 1);
  425   4                      else
  426   4                      OLED_DrawPoint(x, y, 0);
  427   4                  }
  428   3              }
  429   2          }
  430   1      }
  431          
  432          /**
  433           * @name OLED_DrawLineG_Dot
  434           * @brief OLED»­Ò»ÌõÐéÊµÏß(Î¢·Ö·¨)
  435           * @param x1y1£ºÆðµã×ø±ê
  436           * @param x2y2£ºÖÕµã×ø±ê
  437           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  438           * @param dot:ÐéÊµÃÜ¶È,1£ºÊµÏß
  439           * @return ÎÞ
  440           * @version °æ±¾£ºv1.0
  441           * @date ÈÕÆÚ£º2024-1-4
  442           * @author ×÷Õß£ºÏ«
  443           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  444           */
  445          void OLED_DrawLineG_Dot( u8 x1, u8 y1, u8 x2, u8 y2 , bit mode , u8 dot)      //OLED»­Ò»ÌõÐéÊµÏß£¬0£ºÏ¨Ãð
             - 1£ºµãÁÁ
  446          {
  447   1          //ÏÈ¼ÆËãÔöÁ¿¦¤yºÍ¦¤x
  448   1          u8 DeltaX = abs(x2 - x1);
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 8   

  449   1          u8 DeltaY = abs(y2 - y1);
  450   1          u8 dm, i;           //¶¨Òå·Ö¸î»ù×¼£¬Ñ­»·±äÁ¿
  451   1          float dx, dy;       //¶¨Òå±ä»¯Á¿
  452   1          float x, y;         //¶¨ÒåÐèÒªÏÔÊ¾µÄ×ø±êÖµ
  453   1      
  454   1          if(DeltaX >= DeltaY)  //Ñ¡Ôñ½Ï³¤µÄ±ßÎª»ù×¼
  455   1              dm = DeltaX;
  456   1          else
  457   1              dm = DeltaY;
  458   1      
  459   1          dx = (float)(x2 - x1) / dm;
  460   1          dy = (float)(y2 - y1) / dm;
  461   1          x = (float)x1 + 0.5;    //ËÄÉáÎåÈë
  462   1          y = (float)y1 + 0.5;    //ËÄÉáÎåÈë
  463   1          for ( i = 0; i <= dm; i++)
  464   1          {
  465   2              if(!(i%dot) || i==1)
  466   2              OLED_DrawPoint(x, y, mode);
  467   2              x += dx;
  468   2              y += dy;
  469   2          }
  470   1      }
  471          
  472          /**
  473           * @name OLED_DrawFrameG
  474           * @brief OLED»­Ò»¸ö·½¿ò
  475           * @param x0y0£ºÆðµã×ø±ê
  476           * @param x1y1£ºÖÕµã×ø±ê
  477           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  478           * @return ÎÞ
  479           * @version °æ±¾£ºv1.0
  480           * @date ÈÕÆÚ£º2024-1-4
  481           * @author ×÷Õß£ºÏ«
  482           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  483           */
  484          void OLED_DrawFrameG(u8 x0, u8 y0, u8 x1, u8 y1, bit mode)  //OLED»­Ò»¸ö·½¿ò
  485          {
  486   1          OLED_DrawLineG_Dot(x0, y0, x1, y0, mode, 1);
  487   1          OLED_DrawLineG_Dot(x1, y0, x1, y1, mode, 1);
  488   1          OLED_DrawLineG_Dot(x1, y1, x0, y1, mode, 1);
  489   1          OLED_DrawLineG_Dot(x0, y1, x0, y0, mode, 1);
  490   1      }
  491          
  492          /**
  493           * @name OLED_DrawBlockG
  494           * @brief OLED»­Ò»¸öÊµÐÄ¿ò
  495           * @param x0y0£ºÆðµã×ø±ê
  496           * @param x1y1£ºÖÕµã×ø±ê
  497           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  498           * @return ÎÞ
  499           * @version °æ±¾£ºv1.0
  500           * @date ÈÕÆÚ£º2024-1-4
  501           * @author ×÷Õß£ºÏ«
  502           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  503           */
  504          void OLED_DrawBlockG(u8 x0, u8 y0, u8 x1, u8 y1, bit mode)  //OLED»­Ò»¸öÊµÐÄ¿ò
  505          {
  506   1          char i, d;
  507   1      
  508   1          if(y1-y0 >= 0)
  509   1              d = 1;
  510   1          else
  511   1              d = -1;
  512   1          
  513   1          for ( i = 0; i <= abs(y1-y0); i++)
  514   1          {
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 9   

  515   2              OLED_DrawLineG_Dot(x0, (u8)(y0 + i * d), x1, (u8)(y0 + i * d), mode, 1);
  516   2              OLED_Refresh_Gram();
  517   2          }
  518   1          // OLED_Refresh_Gram();
  519   1      }
  520          
  521          /**
  522           * @name OLED_DrawBox
  523           * @brief »­¿ÕÊµÐÄ¾ØÐÎ
  524           * @param x0y0£ºÆðµã×ø±ê
  525           * @param x1y1£ºÖÕµã×ø±ê
  526           * @param fill:0£º¿ÕÐÄ 1£ºÊµÐÄ
  527           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  528           * @return ÎÞ
  529           * @version °æ±¾£ºv1.0
  530           * @date ÈÕÆÚ£º2024-1-4
  531           * @author ×÷Õß£ºÏ«
  532           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  533           */
  534          void OLED_DrawBox(u8 x0, u8 y0, u8 x1, u8 y1, u8 fill, bit mode)        //»­¿ÕÊµÐÄ¾ØÐÎ
  535          {
  536   1          int xstart, ystart, xend, yend, i;
  537   1      
  538   1          if(x0 < x1) { xstart = x0; xend = x1;}
  539   1          else        { xstart = x1; xend = x0;}
  540   1          if(y0 < y1) { ystart = y0; yend = y1;}
  541   1          else        { ystart = y1; yend = y0;}
  542   1      
  543   1          if(fill == 0)  //¿ÕÐÄ
  544   1          {
  545   2              OLED_DrawLineG_Dot((u8)xstart, (u8)ystart, (u8)xend, (u8)ystart, mode, 1);
  546   2              OLED_DrawLineG_Dot((u8)xstart, (u8)yend, (u8)xend, (u8)yend, mode, 1);
  547   2              OLED_DrawLineG_Dot((u8)xstart, (u8)ystart, (u8)xstart, (u8)yend, mode, 1);
  548   2              OLED_DrawLineG_Dot((u8)xend, (u8)ystart, (u8)xend, (u8)yend, mode, 1);
  549   2          }
  550   1          else if (fill == 1) //ÊµÐÄ
  551   1          {
  552   2              for ( i = ystart; i <= yend; i++)
  553   2              {
  554   3                  OLED_DrawLineG_Dot((u8)xstart, (u8)i, (u8)xend, (u8)i, mode, 1);
  555   3              }
  556   2          }
  557   1      }
  558          
  559          /**
  560           * @name OLED_DrawCircleG
  561           * @brief OLED»­Ò»¸öÔ²ÐÎ
  562           * @param xy£ºÆðµã×ø±ê
  563           * @param r£º°ë¾¶
  564           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  565           * @return ÎÞ
  566           * @version °æ±¾£ºv1.0
  567           * @date ÈÕÆÚ£º2024-1-4
  568           * @author ×÷Õß£ºÏ«
  569           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  570           */
  571          void OLED_DrawCircleG(u8 x0, u8 y0, u8 R, bit mode)      //OLED»­Ò»¸öÔ²ÐÎ
  572          {
  573   1          float Rx, Ry, angle, Rad;
  574   1          // OLED_DrawPoint(x0, y0, 1);
  575   1      
  576   1          for ( angle = 0; angle < 360; angle+=1)
  577   1          {
  578   2              Rad = angle * 3.14 / 180;
  579   2      
  580   2              Rx = R * cos(Rad);
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 10  

  581   2              Ry = R * sin(Rad);
  582   2      
  583   2              OLED_DrawPoint(x0 + Rx, /*64 -*/ (y0 + Ry), mode);
  584   2              // OLED_Refresh_Gram();
  585   2          }
  586   1          OLED_Refresh_Gram();
  587   1      }
  588          
  589          /**
  590           * @name OLED_DrawEllipticG
  591           * @brief OLED»­Ò»¸öÍÖÔ²ÐÎ
  592           * @param xy£ºÆðµã×ø±ê
  593           * @param R1£º³¤Öá
  594           * @param R2£º¶ÌÖá
  595           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  596           * @return ÎÞ
  597           * @version °æ±¾£ºv1.0
  598           * @date ÈÕÆÚ£º2024-1-4
  599           * @author ×÷Õß£ºÏ«
  600           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  601           */
  602          void OLED_DrawEllipticG(u8 x0, u8 y0, u8 R1, u8 R2, bit mode)      //OLED»­Ò»¸öÍÖÔ²ÐÎ
  603          {
  604   1          float Rx, Ry, angle, Rad;
  605   1          // OLED_DrawPoint(x0, y0, 1);
  606   1      
  607   1          for ( angle = 0; angle < 360; angle+=1)
  608   1          {
  609   2              Rad = angle * 3.14 / 180;
  610   2      
  611   2              Rx = R1 * cos(Rad);
  612   2              Ry = R2 * sin(Rad);
  613   2      
  614   2              OLED_DrawPoint(x0 + Rx, /*64 -*/ (y0 + Ry), mode);
  615   2              // OLED_Refresh_Gram();
  616   2          }
  617   1          OLED_Refresh_Gram();
  618   1      }
  619          
  620          /**
  621           * @name OLED_DrawCircleG_Distance
  622           * @brief OLED»­Ò»¸öÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
  623           * @param xy£ºÆðµã×ø±ê
  624           * @param r£º°ë¾¶
  625           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  626           * @return ÎÞ
  627           * @version °æ±¾£ºv1.0
  628           * @date ÈÕÆÚ£º2024-1-4
  629           * @author ×÷Õß£ºÏ«
  630           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  631           */
  632          void OLED_DrawCircleG_Distance(u8 x0,u8 y0, u8 R, bit mode) //OLED»­Ò»¸öÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
  633          {
  634   1          int x = 0;
  635   1          int y = R;
  636   1      
  637   1          while (x<=y)
  638   1          {
  639   2              OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);   //ÓÒÏÂ1
  640   2              OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);   //×óÏÂ1
  641   2              OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);   //×óÉÏ1
  642   2              OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);   //ÓÒÉÏ1
  643   2              OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);   //ÓÒÏÂ2
  644   2              OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);   //×óÏÂ2
  645   2              OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);   //×óÉÏ2
  646   2              OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);   //ÓÒÉÏ2
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 11  

  647   2      
  648   2              x++;
  649   2              if( (x*x+y*y)>(R*R))
  650   2                  y--;
  651   2              OLED_Refresh_Gram();
  652   2          }
  653   1          // OLED_Refresh_Gram();
  654   1      }
  655          
  656          /**
  657           * @name OLED_DrawBlockCircleG_Distance
  658           * @brief OLED»­Ò»¸öÊµÐÄÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
  659           * @param xy£ºÆðµã×ø±ê
  660           * @param r£º°ë¾¶
  661           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  662           * @return ÎÞ
  663           * @version °æ±¾£ºv1.0
  664           * @date ÈÕÆÚ£º2024-1-4
  665           * @author ×÷Õß£ºÏ«
  666           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  667           */
  668          void OLED_DrawBlockCircleG_Distance(u8 x0,u8 y0, u8 R, bit mode) //OLED»­Ò»¸öÊµÐÄÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
  669          {
  670   1          int x = 0;
  671   1          int y = R;
  672   1      
  673   1          while (x<=y)
  674   1          {
  675   2              // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);
  676   2              // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);
  677   2              OLED_DrawLineG_Dot((u8)(x0 + x), (u8)(y0 + y), (u8)(x0 - x), (u8)(y0 + y), mode, 1);
  678   2              // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);
  679   2              // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);
  680   2              OLED_DrawLineG_Dot((u8)(x0 - x), (u8)(y0 - y), (u8)(x0 + x), (u8)(y0 - y), mode, 1);
  681   2              // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);
  682   2              // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);
  683   2              OLED_DrawLineG_Dot((u8)(x0 + y), (u8)(y0 + x), (u8)(x0 - y), (u8)(y0 + x), mode, 1);
  684   2              // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);
  685   2              // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);
  686   2              OLED_DrawLineG_Dot((u8)(x0 - y), (u8)(y0 - x), (u8)(x0 + y), (u8)(y0 - x), mode, 1);
  687   2              x++;
  688   2              if( (x*x+y*y)>(R*R))
  689   2                  y--;
  690   2              OLED_Refresh_Gram();
  691   2          }
  692   1          // OLED_Refresh_Gram();
  693   1      }
  694          
  695          /**
  696           * @name OLED_DrawCircleG_Bresenham
  697           * @brief OLED»­Ò»¸öÔ²ÐÎ(Bresenham·¨)
  698           * @param xy£ºÆðµã×ø±ê
  699           * @param r£º°ë¾¶
  700           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  701           * @return ÎÞ
  702           * @version °æ±¾£ºv1.0
  703           * @date ÈÕÆÚ£º2024-1-4
  704           * @author ×÷Õß£ºÏ«
  705           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  706           */
  707          void OLED_DrawCircleG_Bresenham(u8 x0, u8 y0, u8 R, bit mode)      //OLED»­Ò»¸öÔ²ÐÎ(Bresenham·¨)
  708          {
  709   1          int x, y;
  710   1          int di;
  711   1          x = 0;
  712   1          y = R;
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 12  

  713   1          di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
  714   1          while (x <= y)
  715   1          {
  716   2              OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);   //ÓÒÏÂ1
  717   2              OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);   //×óÏÂ1
  718   2              OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);   //×óÉÏ1
  719   2              OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);   //ÓÒÉÏ1
  720   2              OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);   //ÓÒÏÂ2
  721   2              OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);   //×óÏÂ2
  722   2              OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);   //×óÉÏ2
  723   2              OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);   //ÓÒÉÏ2
  724   2      
  725   2              x++;
  726   2              //Ê¹ÓÃBresenhamËã·¨»­Ô²
  727   2              if (di < 0)
  728   2              di += 4 * x + 6;
  729   2              else
  730   2              {
  731   3                  di += 10 + 4 * (x - y);
  732   3                  y--;
  733   3              }
  734   2              OLED_Refresh_Gram();
  735   2          }
  736   1          // OLED_Refresh_Gram();
  737   1      }
  738          
  739          /**
  740           * @name OLED_DrawBlockCircleG_Bresenham
  741           * @brief OLED»­Ò»¸öÊµÐÄÔ²ÐÎ(Bresenham·¨)
  742           * @param xy£ºÆðµã×ø±ê
  743           * @param r£º°ë¾¶
  744           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  745           * @return ÎÞ
  746           * @version °æ±¾£ºv1.0
  747           * @date ÈÕÆÚ£º2024-1-4
  748           * @author ×÷Õß£ºÏ«
  749           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  750           */
  751          void OLED_DrawBlockCircleG_Bresenham(u8 x0, u8 y0, u8 R, bit mode)      //OLED»­Ò»¸öÊµÐÄÔ²ÐÎ(Bresenham·¨)
  752          {
  753   1          int x, y;
  754   1          int di;
  755   1          x = 0;
  756   1          y = R;
  757   1          di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
  758   1          while (x <= y)
  759   1          {
  760   2              // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);        //6
  761   2              // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);        //1
  762   2              OLED_DrawLineG_Dot((u8)(x0 + x), (u8)(y0 + y), (u8)(x0 - x), (u8)(y0 + y), mode, 1);
  763   2              // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);        //2
  764   2              // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);        //5
  765   2              OLED_DrawLineG_Dot((u8)(x0 - x), (u8)(y0 - y), (u8)(x0 + x), (u8)(y0 - y), mode, 1);
  766   2              // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);        //4
  767   2              // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);        //3
  768   2              OLED_DrawLineG_Dot((u8)(x0 + y), (u8)(y0 + x), (u8)(x0 - y), (u8)(y0 + x), mode, 1);
  769   2              // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);        //7
  770   2              // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);        //0
  771   2              OLED_DrawLineG_Dot((u8)(x0 - y), (u8)(y0 - x), (u8)(x0 + y), (u8)(y0 - x), mode, 1);
  772   2      
  773   2              x++;
  774   2              //Ê¹ÓÃBresenhamËã·¨»­Ô²
  775   2              if (di < 0)
  776   2              di += 4 * x + 6;
  777   2              else
  778   2              {
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 13  

  779   3                  di += 10 + 4 * (x - y);
  780   3                  y--;
  781   3              }
  782   2              OLED_Refresh_Gram();
  783   2          }
  784   1          // OLED_Refresh_Gram();
  785   1      }
  786          
  787          
  788          
  789          /**
  790           * @name OLED_DrawRoundRectangleG
  791           * @brief OLED»­Ò»¸öÔ²½Ç¾ØÐÎ(Bresenham·¨)
  792           * @param xy£º¾ØÐÎÆðµã×ø±ê
  793           * @param x1y1:¾ØÐÎÖÕµã×ø±ê
  794           * @param R£ºÔ²½Ç°ë¾¶
  795           * @param fill:0£º¿ÕÐÄ 1£ºÊµÐÄ
  796           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  797           * @return ÎÞ
  798           * @version °æ±¾£ºv1.0
  799           * @date ÈÕÆÚ£º2024-1-4
  800           * @author ×÷Õß£ºÏ«
  801           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  802           */
  803          void OLED_DrawRoundRectangleG(u8 x0, u8 y0, u8 x1, u8 y1, u8 R, u8 fill, bit mode)      //OLED»­Ò»¸öÔ²½Ç¾
             -ØÐÎ(Bresenham·¨)
  804          {
  805   1          int x, y, di, i;
  806   1          int xstart, ystart, xend, yend;
  807   1      
  808   1          if(x0 < x1) { xstart = x0; xend = x1;}
  809   1          else        { xstart = x1; xend = x0;}
  810   1          if(y0 < y1) { ystart = y0; yend = y1;}
  811   1          else        { ystart = y1; yend = y0;}
  812   1      
  813   1          if (R > (u8)(xend - xstart) / 2 || R > (u8)(yend - ystart) / 2)
  814   1              R = ((u8)(xend - xstart) < (u8)(yend - ystart)) ? ((u8)(xend - xstart) / 2) : ((u8)(yend - ystart
             -) / 2);
  815   1      
  816   1          x = 0;
  817   1          y = R;
  818   1          di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
  819   1          
  820   1          if( fill == 0)
  821   1          {   //¿ÕÐÄ
  822   2              while (x <= y)
  823   2              {
  824   3                  OLED_DrawPoint((u8)(xstart + R - x), (u8)(ystart + R - y), mode);   //×óÉÏ1
  825   3                  OLED_DrawPoint((u8)(xstart + R - y), (u8)(ystart + R - x), mode);   //×óÉÏ2
  826   3                  OLED_DrawPoint((u8)(xend - R + x), (u8)(ystart + R - y), mode);   //ÓÒÉÏ1
  827   3                  OLED_DrawPoint((u8)(xend - R + y), (u8)(ystart + R - x), mode);   //ÓÒÉÏ2
  828   3                  OLED_DrawPoint((u8)(xstart + R - x), (u8)(yend - R + y), mode);   //×óÏÂ1
  829   3                  OLED_DrawPoint((u8)(xstart + R - y), (u8)(yend - R + x), mode);   //×óÏÂ2
  830   3                  OLED_DrawPoint((u8)(xend - R + x), (u8)(yend - R + y), mode);   //ÓÒÏÂ1
  831   3                  OLED_DrawPoint((u8)(xend - R + y), (u8)(yend - R + x), mode);   //ÓÒÏÂ2
  832   3      
  833   3                  
  834   3                  //Ê¹ÓÃBresenhamËã·¨»­Ô²
  835   3                  if (di < 0)
  836   3                  di += 4 * x + 6;
  837   3                  else
  838   3                  {
  839   4                      di += 10 + 4 * (x - y);
  840   4                      y--;
  841   4                  }
  842   3                  x++;
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 14  

  843   3                  // OLED_Refresh_Gram();
  844   3              }
  845   2      
  846   2              OLED_DrawLineG_Dot((u8)(xstart + R + 1), (u8)ystart, (u8)(xend - R - 1), (u8)ystart, mode, 1);
  847   2              OLED_DrawLineG_Dot((u8)(xstart + R + 1), (u8)yend, (u8)(xend - R - 1), (u8)yend, mode, 1);
  848   2              OLED_DrawLineG_Dot((u8)xstart, (u8)(ystart + R + 1), (u8)xstart, (u8)(yend - R - 1), mode, 1);
  849   2              OLED_DrawLineG_Dot((u8)xend, (u8)(ystart + R + 1), (u8)xend, (u8)(yend - R - 1), mode, 1);
  850   2          }
  851   1          else if( fill == 1)
  852   1          {   //ÊµÐÄ
  853   2              while (x <= y)
  854   2              {
  855   3                  OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(ystart + R - y), (u8)(xend - R + x), (u8)(ystar
             -t + R - y), mode, 1);
  856   3                  OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(ystart + R - x), (u8)(xend - R + y), (u8)(ystar
             -t + R - x), mode, 1);
  857   3                  OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(yend - R + y), (u8)(xend - R + x), (u8)(yend - 
             -R + y), mode, 1);
  858   3                  OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(yend - R + x), (u8)(xend - R + y), (u8)(yend - 
             -R + x), mode, 1);
  859   3                  
  860   3                  //Ê¹ÓÃBresenhamËã·¨»­Ô²
  861   3                  if (di < 0)
  862   3                  di += 4 * x + 6;
  863   3                  else
  864   3                  {
  865   4                      di += 10 + 4 * (x - y);
  866   4                      y--;
  867   4                  }
  868   3                  x++;
  869   3                  // OLED_Refresh_Gram();
  870   3              }
  871   2      
  872   2              for ( i = ystart + R + 1; i <= yend - R -1; i++)
  873   2              {
  874   3                  OLED_DrawLineG_Dot((u8)xstart, (u8)i, (u8)xend, (u8)i, mode, 1);
  875   3              }
  876   2          }
  877   1          // OLED_Refresh_Gram();
  878   1      }
  879          
  880          /**
  881           * @name OLED_DrawWideRoundRectangleG
  882           * @brief OLED»­Ò»¸ö¿í±ßÔ²½Ç¾ØÐÎ(Bresenham·¨)
  883           * @param xy£º¾ØÐÎÆðµã×ø±ê
  884           * @param x1y1:¾ØÐÎÖÕµã×ø±ê
  885           * @param R£ºÔ²½Ç°ë¾¶
  886           * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
  887           * @return ÎÞ
  888           * @version °æ±¾£ºv1.0
  889           * @date ÈÕÆÚ£º2024-1-4
  890           * @author ×÷Õß£ºÏ«
  891           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
  892           */
  893          void OLED_DrawWidthRoundRectangleG(u8 x0, u8 y0, u8 x1, u8 y1, u8 R, u8 width, bit mode)      //OLED»­Ò»¸
             -ö¿í±ßÔ²½Ç¾ØÐÎ(Bresenham·¨)
  894          {
  895   1          int x, y, di;
  896   1          int xstart, ystart, xend, yend;
  897   1      
  898   1          if (width <= 1)
  899   1          {
  900   2              OLED_DrawRoundRectangleG(x0, y0, x1, y1, R, 0, 1);
  901   2              return;
  902   2          }
  903   1          
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 15  

  904   1      
  905   1          //»­´óÉÈÐÎ
  906   1          if(x0 < x1) { xstart=x0; xend = x1;}
  907   1          else        { xstart=x1; xend = x0;}
  908   1          if(y0 < y1) { ystart=y0; yend = y1;}
  909   1          else        { ystart=y1; yend = y0;}
  910   1      
  911   1          if (R > (u8)(xend - xstart) / 2 || R > (u8)(yend - ystart) / 2)
  912   1              R = ((u8)(xend - xstart) < (u8)(yend - ystart)) ? ((u8)(xend - xstart) / 2) : ((u8)(yend - ystart
             -) / 2);
  913   1      
  914   1          x = 0;
  915   1          y = R;
  916   1          di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
  917   1          
  918   1      
  919   1          while (x <= y)
  920   1          {
  921   2              OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(ystart + R - y), (u8)(xstart + R - x), (u8)(ystart 
             -+ R), mode, 1);
  922   2              OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(ystart + R - x), (u8)(xstart + R - y), (u8)(ystart 
             -+ R), mode, 1);
  923   2              OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(ystart + R - y), (u8)(xend - R + x), (u8)(ystart + R)
             -, mode, 1);
  924   2              OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(ystart + R - x), (u8)(xend - R + y), (u8)(ystart + R)
             -, mode, 1);
  925   2              OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(yend - R + y), (u8)(xstart + R - x), (u8)(yend - R)
             -, mode, 1);
  926   2              OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(yend - R + x), (u8)(xstart + R - y), (u8)(yend - R)
             -, mode, 1);
  927   2              OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(yend - R + y), (u8)(xend - R + x), (u8)(yend - R), mo
             -de, 1);
  928   2              OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(yend - R + x), (u8)(xend - R + y), (u8)(yend - R), mo
             -de, 1);
  929   2              
  930   2              //Ê¹ÓÃBresenhamËã·¨»­Ô²
  931   2              if (di < 0)
  932   2              di += 4 * x + 6;
  933   2              else
  934   2              {
  935   3                  di += 10 + 4 * (x - y);
  936   3                  y--;
  937   3              }
  938   2              x++;
  939   2          }
  940   1      
  941   1          OLED_DrawBox((u8)(xstart + R + 1), (u8)(ystart), (u8)(xend - R - 1), (u8)(ystart + width - 1), 1, mod
             -e);
  942   1          OLED_DrawBox((u8)(xstart + R + 1), (u8)(yend - width + 1), (u8)(xend - R - 1), (u8)(yend), 1, mode);
  943   1          OLED_DrawBox((u8)(xstart), (u8)(ystart + R + 1), (u8)(xstart + width - 1), (u8)(yend - R - 1), 1, mod
             -e);
  944   1          OLED_DrawBox((u8)(xend - width + 1), (u8)(ystart + R + 1), (u8)(xend), (u8)(yend - R - 1), 1, mode);
  945   1      
  946   1          //»­²Á³ýÐ¡ÉÈÐÎ
  947   1          if(x0 < x1) { xstart = x0 + width; xend = x1 - width;}
  948   1          else        { xstart = x1 + width; xend = x0 - width;}
  949   1          if(y0 < y1) { ystart = y0 + width; yend = y1 - width;}
  950   1          else        { ystart = y1 + width; yend = y0 - width;}
  951   1          R -= width;
  952   1          if (R > (u8)(xend - xstart) / 2 || R > (u8)(yend - ystart) / 2)
  953   1              R = ((u8)(xend - xstart) < (u8)(yend - ystart)) ? ((u8)(xend - xstart) / 2) : ((u8)(yend - ystart
             -) / 2);
  954   1      
  955   1          x = 0;
  956   1          y = R;
  957   1          di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 16  

  958   1          
  959   1      
  960   1          while (x <= y)
  961   1          {
  962   2              OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(ystart + R - y), (u8)(xstart + R - x), (u8)(ystart 
             -+ R), ~mode, 1);
  963   2              OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(ystart + R - x), (u8)(xstart + R - y), (u8)(ystart 
             -+ R), ~mode, 1);
  964   2              OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(ystart + R - y), (u8)(xend - R + x), (u8)(ystart + R)
             -, ~mode, 1);
  965   2              OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(ystart + R - x), (u8)(xend - R + y), (u8)(ystart + R)
             -, ~mode, 1);
  966   2              OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(yend - R + y), (u8)(xstart + R - x), (u8)(yend - R)
             -, ~mode, 1);
  967   2              OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(yend - R + x), (u8)(xstart + R - y), (u8)(yend - R)
             -, ~mode, 1);
  968   2              OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(yend - R + y), (u8)(xend - R + x), (u8)(yend - R), ~m
             -ode, 1);
  969   2              OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(yend - R + x), (u8)(xend - R + y), (u8)(yend - R), ~m
             -ode, 1);
  970   2              
  971   2              //Ê¹ÓÃBresenhamËã·¨»­Ô²
  972   2              if (di < 0)
  973   2              di += 4 * x + 6;
  974   2              else
  975   2              {
  976   3                  di += 10 + 4 * (x - y);
  977   3                  y--;
  978   3              }
  979   2              x++;
  980   2          }
  981   1          // OLED_Refresh_Gram();
  982   1      }
  983          
  984          /**
  985           * @name OLED_DrawSin
  986           * @brief »­ÕýÏÒº¯Êý
  987           * @param ÎÞ
  988           * @return ÎÞ
  989           * @version °æ±¾£ºv1.0
  990           * @date ÈÕÆÚ£º2024
  991           * @author ×÷Õß£º
  992           * @note ×¢ÊÍ£º
  993           */
  994          void OLED_DrawSin()     //»­ÕýÏÒº¯Êý
  995          {
  996   1          u8 a = 8;   //XÖáÏµÊý
  997   1          u8 b = 20;  //YÖáÏµÊý
  998   1          u8 x0 = 40, y0 = 32;    //ÆðÊ¼µã£¬½áºÏºóÎÄ£¬×îºÃ¿ØÖÆÔÚÖÐÐÄµã
  999   1          //x0 = 63 - 180/a
 1000   1      
 1001   1          float Si, Sx, Sy, Rad;
 1002   1      
 1003   1          for ( Si = 0; Si <= 360; Si+= 1)
 1004   1          {
 1005   2              Rad = Si * 3.14 / 180;
 1006   2              Sx = Si / /*ÏµÊý*/ a;               //×î×ó¶Ë£ºx0+0*a£¬×îÓÒ¶Ë£ºx0+360/a
 1007   2              Sy = sin(Rad) * /*ÏµÊý*/ b;     //×î¸ßµã£ºy0-1*b£¬×îµÍµã£ºy0+1*b
 1008   2              OLED_DrawPoint(Sx + x0, 64 - (Sy + y0), 1);
 1009   2              OLED_RefreshPart_Gram(30, 1, 60, 6);
 1010   2      
 1011   2              OLED_ShowNum(35, 7, Si, 3, 6, 0);
 1012   2          }
 1013   1      }
 1014          
 1015          /**
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 17  

 1016           * @name ButtonWave
 1017           * @brief °´¼ü¿ØÖÆÏÔÊ¾·½²¨
 1018           * @param ÎÞ
 1019           * @return ÎÞ
 1020           * @version °æ±¾£ºv1.0
 1021           * @date ÈÕÆÚ£º2024-1-4
 1022           * @author ×÷Õß£º
 1023           * @note ×¢ÊÍ£º
 1024           */
 1025          void ButtonWave()   //°´¼ü¿ØÖÆÏÔÊ¾·½²¨
 1026          {
 1027   1          u8 Xtime;
 1028   1      
 1029   1          char Range01 = 50;
 1030   1          char Range02 = 10;
 1031   1          for ( Xtime = 127; Xtime > 0; Xtime--)
 1032   1              WaveData[Xtime] = WaveData[Xtime - 1];
 1033   1      
 1034   1          if(P54)
 1035   1              WaveData[0] = Range02;
 1036   1          else
 1037   1              WaveData[0] = Range01;
 1038   1      
 1039   1          OLED_GRAM_Clear(0);
 1040   1      
 1041   1          for ( Xtime = 0; Xtime < 127; Xtime++)
 1042   1              OLED_DrawLineG_Dot(Xtime, (u8)(63 - WaveData[Xtime]), (u8)(Xtime + 1), (u8)(63 - WaveData[Xtime +
             - 1]), 1, 1);
 1043   1      
 1044   1          OLED_Refresh_Gram();
 1045   1          delay_oled_ms(50);
 1046   1      }
 1047          
 1048          /**
 1049           * @name OLED_ShowCharG
 1050           * @brief ÔÚÖ¸¶¨Î»ÖÃÏÔÊ¾Ò»¸ö×Ö·û,°üÀ¨²¿·Ö×Ö·û
 1051           * @param x:0~127
 1052           * @param y:0~7
 1053           * @param chr:
 1054           * @param charSize:Ñ¡Ôñ×ÖÌå16(¸ß¶ÈÕ¼2ÐÐ)/6(¸ß¶ÈÕ¼1ÐÐ)
 1055           * @param Is_Reverse:Ä£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 1056           * @return ÎÞ
 1057           * @version °æ±¾£ºv1.0
 1058           * @date ÈÕÆÚ£º2024-1-4
 1059           * @author ×÷Õß£ºÏ«
 1060           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
 1061           */
 1062          void OLED_ShowCharG(u8 x,u8 y,u8 chr, u8 charSize, u8 Is_Reverse)     // »º´æÏÔÊ¾Ò»¸ö×Ö·û
 1063          {
 1064   1          u8 xdata i = 0;
 1065   1          chr -= ' '; //µÃµ½Æ«ÒÆºóµÄÖµ
 1066   1          if (x > Max_Column - 1)     //Èç¹ûÆðµãºá×ø±ê³¬¹ýÁËÆÁÄ»×îÓÒ²à
 1067   1          {
 1068   2              x = 0;                  //ÁÐ×ø±êxÖÃÁã£¬»Øµ½ÆÁÄ»×î×ó²à
 1069   2              y = y + 2;              //ÐÐ×ø±êyÏÂÒÆ2ÐÐ
 1070   2          }                           //½«×Ö·ûÏÔÊ¾ÔÚÆÁÄ»Ö¸¶¨ÐÐµÄÏÂÒ»ÐÐÆðµãÎ»ÖÃ
 1071   1          if (charSize == 16)                 //ÅÐ¶Ï×ÖºÅ´óÐ¡£¬¶ÁÈ¡F16X8×Ö¿â£¬Õ¼2ÐÐ
 1072   1          {   
 1073   2              for (i = 0; i<8; i++)           //Á½ÐÐ¸ß¶ÈµÄÉÏÐÐ
 1074   2                  OLED_GRAM[y][(x + i)] = (Is_Reverse == 0 ? F16X8[chr][i] : ~F16X8[chr][i]);;
 1075   2              for (i = 0; i<8; i++)           //Á½ÐÐ¸ß¶ÈµÄÏÂÐÐ
 1076   2                  OLED_GRAM[y+1][(x + i)] = (Is_Reverse == 0?F16X8[chr][i + 8]:~F16X8[chr][i + 8]);
 1077   2          }
 1078   1          else if(charSize == 6)              //ÅÐ¶Ï×ÖºÅ´óÐ¡£¬¶ÁÈ¡F8X6×Ö¿â£¬Õ¼1ÐÐ
 1079   1          {
 1080   2              for (i = 0; i<6; i++)
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 18  

 1081   2                  OLED_GRAM[y][(x + i)] = (Is_Reverse == 0?F8X6[chr][i]:~F8X6[chr][i]);
 1082   2          }
 1083   1      }
 1084          
 1085          /**
 1086           * @name OLED_ShowStringG
 1087           * @brief ÏÔÊ¾Ò»¸ö×Ö·ûºÅ´®
 1088           * @param xy£ºÆðµã×ø±ê
 1089           * @param chr£ºÐèÒªÏÔÊ¾µÄ×Ö·û´®
 1090           * @param charSize£º×ÖÌå´óÐ¡16/6
 1091           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 1092           * @return ÎÞ
 1093           * @version °æ±¾£ºv1.0
 1094           * @date ÈÕÆÚ£º2024-1-4
 1095           * @author ×÷Õß£ºÏ«
 1096           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
 1097           */
 1098          void OLED_ShowStringG(u8 x, u8 y, char *chr, u8 charSize, u8 Is_Reverse) //ÏÔÊ¾Ò»¸ö×Ö·ûºÅ´®
 1099          {
 1100   1          u8 xdata j = 0;
 1101   1          while (chr[j] != '\0')      //¶ÁÈ¡µ½×Ö·û´®½áÊø·ûÖ®Ç°£¬Ò»Ö±Ñ­»·
 1102   1          {
 1103   2              OLED_ShowCharG(x, y, chr[j], charSize, Is_Reverse);  //´ÓµÚÒ»¸ö×Ö·û¿ªÊ¼ÏÔÊ¾
 1104   2              x += 8;         //ÏÔÊ¾ÍêÒ»¸ö×Ö·ûºó£¬Æðµãx×ø±êÓÒÒÆ8¸ñ£¬×¼±¸ÏÔÊ¾ÏÂÒ»¸ö×Ö·û
 1105   2              if (x>120)      //Èç¹ûÆðµãxÎ»ÖÃ´óÓÚ120£¬Îª±£Ö¤×Ö·ûÏÔÊ¾ÍêÕû£¬ÔÚÏÂÒ»ÐÐ×î×ó²àÎ»ÖÃÏÔÊ¾
 1106   2              {
 1107   3                  x = 0;
 1108   3                  y += 2;
 1109   3              }
 1110   2              j++;            //Ö¸ÕëÒÆµ½ÏÂÒ»¸ö×Ö·û
 1111   2          }
 1112   1      }
 1113          
 1114          /**
 1115           * @name OLED_ShowNumG
 1116           * @brief »º´æÏÔÊ¾Ò»´®Êý×Ö
 1117           * @param xy£ºÆðµã×ø±ê
 1118           * @param num£ºÊýÖµ(0~4294967295)
 1119           * @param len£ºÊý×ÖµÄÎ»Êý£¬¼´ÏÔÊ¾¼¸Î»ÓÐÐ§Êý×Ö,max=10
 1120           * @param Size£º×ÖÌå´óÐ¡16/6
 1121           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 1122           * @return ÎÞ
 1123           * @version °æ±¾£ºv1.0
 1124           * @date ÈÕÆÚ£º2024-1-4
 1125           * @author ×÷Õß£ºÏ«
 1126           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
 1127           */
 1128          void OLED_ShowNumG(u8 x, u8 y, u32 num, u8 len, u8 Size, u8 Is_Reverse)  //»º´æÏÔÊ¾Ò»´®Êý×Ö
 1129          {
 1130   1          u8 xdata t, temp;
 1131   1          u8 xdata enshow = 0;
 1132   1          for (t = 0; t < len; t++)
 1133   1          {
 1134   2              temp = (num / OLED_Index(10, (u8)(len - t - 1))) % 10;      //È¡µÚtÎ»Êý×Ö
 1135   2              if (enshow == 0 && t < (len - 1))       //Èç¹ûÊý´®³¤¶ÈÐ¡ÓÚÖ¸¶¨³¤¶È
 1136   2              {
 1137   3                  if (temp == 0)                      //¶à³öÀ´µÄÎ»ÓÃ¿Õ¸ñ²¹Æë
 1138   3                  {
 1139   4                      OLED_ShowCharG((u8)(x + 8 * t), y, ' ', Size, Is_Reverse);
 1140   4                      continue;                       //¼ÌÐøÑ­»·ÅÐ¶Ï
 1141   4                  }
 1142   3                  else
 1143   3                      enshow = 1;                     //Ö±µ½ÓÐÊý×ÖÎªÖ¹
 1144   3              }
 1145   2              OLED_ShowCharG((u8)(x + 8 * t), y, (u8)(temp + '0'), Size, Is_Reverse);  //´Ó¸ßµ½µÍÖðÎ»ÏÔÊ¾Êý×Ö
 1146   2          }
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 19  

 1147   1      }
 1148          
 1149          /**
 1150           * @name OLED_ShowChineseG
 1151           * @brief ÏÔÊ¾ºº×Ö
 1152           * @param xy£ºÆðµã×ø±ê
 1153           * @param no£ºÐèÒªÏÔÊ¾µÄ×Ö·û´®
 1154           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 1155           * @return ÎÞ
 1156           * @version °æ±¾£ºv1.0
 1157           * @date ÈÕÆÚ£º2024-1-4
 1158           * @author ×÷Õß£ºÏ«
 1159           * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
 1160           */
 1161          void OLED_ShowChineseG(u8 x, u8 y, u8 no, u8 Is_Reverse) //»º´æÏÔÊ¾ºº×Ö
 1162          {
 1163   1          u8 xdata i;
 1164   1          for (i = 0; i < 16; i++)    //ºº×ÖÉÏ°ë²¿·Ö×ø±ê£¨µÚxÁÐ£¬µÚyÐÐ£©
 1165   1          {
 1166   2              OLED_GRAM[y][(x + i)] = (Is_Reverse == 0?Hzk[2 * no][i]:~Hzk[2 * no][i]);
 1167   2          }
 1168   1          for (i = 0; i<16; i++)      //ºº×ÖÏÂ°ë²¿·Ö×ø±ê£¨µÚxÁÐ£¬µÚy+1ÐÐ£©
 1169   1          {
 1170   2              OLED_GRAM[y][(x + i)] = (Is_Reverse == 0?Hzk[2 * no + 1][i]:~Hzk[2 * no + 1][i]);
 1171   2          }
 1172   1      }
 1173          
 1174          /**
 1175           * @name OLED_ShowBMPG
 1176           * @brief »º´æÏÔÊ¾BMPÍ¼Æ¬
 1177           * @param x0y0£ºÆðÊ¼µã×ø±ê(x,y),xµÄ·¶Î§0-127£¬yÎªÒ³µÄ·¶Î§0-7
 1178           * @param x1y1£ºÍ¼Æ¬µÄÏñËØ£¨ÓëÊµ¼ÊÈ¡Ä£µÄÍ¼Æ¬ÏñËØÒ»ÖÂ£©
 1179           * @param BMP[]£ºÐèÒªÏÔÊ¾BMP
 1180           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 1181           * @return ÎÞ
 1182           * @version °æ±¾£ºv1.0
 1183           * @date ÈÕÆÚ£º2023-12-31
 1184           * @author ×÷Õß£ºÏ«
 1185           * @note ×¢ÊÍ£ºx1-x0=Í¼Æ¬µÄÊµ¼ÊÏñËØ³¤¶È y1-y0=Í¼Æ¬µÄÊµ¼ÊÏñËØ¿í¶È
 1186           *           Í¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
 1187           */
 1188          void OLED_ShowBMPG(u8 x0, u8 y0, u8 x1, u8 y1, u8 BMP[], u8 Is_Reverse)  //»º´æÏÔÊ¾BMPÍ¼Æ¬
 1189          {
 1190   1          u16 xdata j = 0;
 1191   1          u8 xdata x, y;
 1192   1          if (y1 % 8 == 0) 
 1193   1          y1 = y1 / 8;
 1194   1          else 
 1195   1          y1 = y1 / 8 + 1;
 1196   1          for (y = y0; y<y1; y++)
 1197   1          {
 1198   2              for (x = x0; x<x1; x++)
 1199   2              {
 1200   3                  OLED_GRAM[y0][x] = (Is_Reverse == 0 ? BMP[j++] : ~BMP[j++], OLED_DATA);
 1201   3              }
 1202   2          }
 1203   1      }
 1204          
 1205          /****************************************************************************/
 1206          /****************************************************************************/
 1207          /****************************************************************************/
 1208          #elif   OLED_GRAM_Mode == 1             //1:1024¼¶»º´æ
               
               /**
                * @name OLED_GRAM_Clear
                * @brief Í¨¹ý»º³åÊý×é£¬ÈÃOLEDÆÁÄ» 
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 20  

                * @param mode:0£ºÈ«Ãð 1£ºÈ«ÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-3
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_GRAM_Clear(bit mode)       //Í¨¹ý»º³åÊý×é£¬ÈÃOLEDÆÁÄ»È«ÁÁÈ«Ãð
               {
                   u16 xdata t;
               
                       for ( t = 0; t < 1024; t++)
                       {
                           if (mode)
                               OLED_GRAM[t] = 0xff;
                           else
                               OLED_GRAM[t] = 0x00;
                       }
                   // OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_Refresh_Gram
                * @brief OLEDË¢ÐÂÏÔÊ¾
                * @param ÎÞ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-3
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£º
                */
               void OLED_Refresh_Gram(void)            //OLEDË¢ÐÂÏÔÊ¾
               {
                   u8 xdata x, y;
                   u16 xdata j = 0;
                   for ( y = 0; y < 8; y++)
                   {
                       OLED_Set_Pos(0, y);
                       for ( x = 0; x < 128; x++)
                       {
                           OLED_Write_Byte(OLED_GRAM[j++], OLED_DATA);
                       }
                   }
               }
               
               /**
                * @name OLED_RefreshPart_Gram
                * @brief OLED¾Ö²¿Ë¢ÐÂÏÔÊ¾
                * @param xstart:ÐèÒªË¢ÐÂÇøÓòµÄÆðÊ¼£¨×óÉÏ½Ç£©×ø±êÖµ
                * @param ystart:ÐèÒªË¢ÐÂÇøÓòµÄÆðÊ¼£¨×óÉÏ½Ç£©×ø±êÖµ
                * @param width:ÐèÒªË¢ÐÂµÄÇøÓò¿í¶ÈÓÐ¶àÉÙÁÐ£¬0-127
                * @param height:ÐèÒªË¢ÐÂµÄÇøÓò¸ß¶ÈÓÐ¶àÉÙÐÐ£¬0-7
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-3
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£º
                */
               void OLED_RefreshPart_Gram(u8 xstart, u8 ystart, u8 width, u8 height)            //OLED¾Ö²¿Ë¢ÐÂÏÔÊ¾
               {
                   u8 x, y;
                   for ( y = ystart; y < ( ystart + height ); y++)
                   {
                       OLED_Set_Pos(xstart, y);
                       for ( x = xstart; x <  (xstart + width ); x++)
                       {
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 21  

                           OLED_Write_Byte(OLED_GRAM[y*128+x], OLED_DATA);
                       }
                   }
               }
               
               /**
                * @name OLED_DrawPoint
                * @brief OLED»­Ò»¸öµã
                * @param x:ºáÏò×ø±ê 0-127
                * @param y:ÊúÏò×ø±ê 0-63
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-3
                * @author ×÷Õß£º
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawPoint(u8 x,u8 y,bit mode)     //OLED»­Ò»¸öµã£¬0£ºÏ¨Ãð 1£ºµãÁÁ
               {
                   if((x<0)||(x>127)||(y<0)||(y>63))
                       return;     //·ÀÖ¹³¬³öÆÁÄ»
                   if( mode )
                       OLED_GRAM[(y / 8) * 128 + x] |= 0x01 << (y % 8);
                   else
                       OLED_GRAM[(y / 8) * 128 + x] &= ~(0x01 << (y % 8));
                   // OLED_Refresh_Gram();                    //ÆôÓÃÕâ¸öºóÐø»­ÏßµÈ£¬½«»áÖðµã»æÖÆ£¬µ«ºÄÊ±³¤
               }
               
               /**
                * @name OLED_FourPoints
                * @brief 4¸öÏñËØµãÎªÒ»×é£¬¿ØÖÆÒ»×éÖÐµÄÒ»¸öµÆÁÁÃð
                * @param x0:ÆðÊ¼Î»ÖÃ0-1
                * @param y0:ÆðÊ¼Î»ÖÃ0-1
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£º
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_FourPoints(u8 x0,u8 y0,bit mode)          //4¸öÏñËØµãÎªÒ»×é£¬¿ØÖÆÁÁÃð
               {
                   u8 xdata x, y;
                   for ( y = y0; y < 64; y+=2)
                   {
                       for ( x = x0; x < 128; x+=2)
                       {
                           if(mode)
                               OLED_GRAM[(y / 8) * 128 + x] |= 0x01 << (y % 8);
                           else
                               OLED_GRAM[(y / 8) * 128 + x] &= ~(0x01 << (y % 8));
                       }
                   }
               }
               
               /**
                * @name OLED_Mask_Gray
                * @brief »Ò½×ÃÉ°æÏÔÊ¾Ò»¸öÍ¼Æ¬£¬ÑÜÉúÓÚOLED_FourPointsº¯Êý
                * @param x0:ÆðÊ¼Î»ÖÃ
                * @param y0:ÆðÊ¼Î»ÖÃ
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024
                * @author ×÷Õß£º
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 22  

                */
               void OLED_Mask_Gray(u8 x0, u8 y0, u8 BMP[], bit mode)  //ÃÉ°æº¯Êý£¬ÑÜÉúÓÚOLED_FourPointsº¯Êý
               {
                   u8 xdata x, y;
                   bit z;
                   for ( y = y0; y < 64; y+=2)
                   {
                       for ( x = x0; x < 128; x+=3)    //6½×»Ò¶È
                       {
                           z = BMP[128 * (y / 8) + x] & (0x01 << (y % 8)); // ½«ÃÉ°æÉÏµÄÏñËØµã×ø±ê£¬¶ÔÓ¦BMPÊý×éÀïÏàÍ¬Î»Ö
             -ÃµÄÄÇ¸öµãµÄÊýÖµ£¬¸³Öµ¸ø±äÁ¿z
                           if(z==1)
                           {
                               if(mode)
                               OLED_DrawPoint(x, y, 1);
                               else
                               OLED_DrawPoint(x, y, 0);
                           }
                       }
                   }
               }
               
               
               // /**
               //  * @name OLED_DrawLineG
               //  * @brief OLED»­Ò»ÌõÏß
               //  * @param x1y1£ºÆðµã×ø±ê
               //  * @param x2y2£ºÖÕµã×ø±ê
               //  * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
               //  * @return ÎÞ
               //  * @version °æ±¾£ºv1.0
               //  * @date ÈÕÆÚ£º2024-1-4
               //  * @author ×÷Õß£ºÏ«
               //  * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
               //  */
               // void OLED_DrawLineG( u8 x1, u8 y1, u8 x2, u8 y2 , bit mode)      //OLED»­Ò»ÌõÏß£¬0£ºÏ¨Ãð 1£ºµãÁÁ
               // {
               //     u8 i;
               //     //ÏÈ¼ÆËãÔöÁ¿¦¤yºÍ¦¤x
               //  char DeltaY = 0,DeltaX = 0;
               //  float k = 0,b = 0;          //¿¼ÂÇµ½Ð±ÂÊÓÐÐ¡ÊýµÄÇé¿ö£¬ËùÒÔbÒ²Ð´³É¸¡µãÐÍ
               //  if(x1>x2)         //±£³Ö¦¤xÎªÕý£¬·½±ãºóÃæÊ¹ÓÃ
               //  {
               //    i = x2;x2 = x1;x1 = i;
               //    i = y2;y2 = y1;y1 = i;
               //    i = 0;
               //  }
               //  DeltaY = y2 - y1;
               //  DeltaX = x2 - x1;
               //     if (DeltaX == 0)            //Ð±ÂÊk²»´æÔÚÊ±µÄ»­·¨
               //     {
               //         if(y1 <= y2)
               //         {
               //             for (y1; y1 <= y2; y1++)
               //             {
               //                 OLED_DrawPoint(x1, y1, mode);
               //             }
               //         }
               //         else if(y1>y2)
               //         {
               //             for (y2; y2 <= y1; y2++)
               //             {
               //                 OLED_DrawPoint(x1, y2, mode);
               //             }
               //         }
               //     }
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 23  

               //     else if(DeltaY == 0)        //Ð±ÂÊK=0Ê±µÄ»­·¨
               //     {
               //         for (x1; x1 <= x2; x1++)
               //         {
               //             OLED_DrawPoint(x1, y1, mode);
               //         }
               //     }
               //     else                        //Ð±ÂÊÕý³£´æÔÚÊ±µÄ»­·¨
               //     {
               //         k = ((float)DeltaY) / ((float)DeltaX);      // ¼ÆËãÐ±ÂÊ
               //         b = y2 - k * x2;                            // ¼ÆËã½Ø¾à
               //         if((k>-1) & (k<1))
               //         {
               //      for(x1;x1<=x2;x1++)
               //      {
               //        OLED_DrawPoint(x1,(int)(k * x1 + b),mode);
               //      }
               //    }
               //         else if((k>=1)|(k<=-1))
               //    {
               //      if(y1<=y2)
               //      {
               //        for(y1;y1<=y2;y1++)
               //        {
               //          OLED_DrawPoint((int)((y1 - b) / k),y1,mode);
               //        }
               //      }
               //             else if(y1>y2)
               //      {
               //        for(y2;y2<=y1;y2++)
               //        {
               //          OLED_DrawPoint((int)((y2 - b) / k),y2,mode);
               //        }
               //      }
               //    }
               //  }
               // }
               
               // /**
               //  * @name OLED_DrawLineG
               //  * @brief OLED»­Ò»ÌõÏß
               //  * @param x1y1£ºÆðµã×ø±ê
               //  * @param x2y2£ºÖÕµã×ø±ê
               //  * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
               //  * @return ÎÞ
               //  * @version °æ±¾£ºv1.0
               //  * @date ÈÕÆÚ£º2024-1-4
               //  * @author ×÷Õß£ºÏ«
               //  * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
               //  */
               // void OLED_DrawLineG( u8 x1, u8 y1, u8 x2, u8 y2 , bit mode)      //OLED»­Ò»ÌõÏß£¬0£ºÏ¨Ãð 1£ºµãÁÁ
               // {
               //     u8 x,y;
               //     if( x1>x2 )             //Èç¹ûÆðÊ¼×ø±ê´óÓÚÖÕµã×ø±ê
               //     {
               //         x=x1;x1=x2;x2=x;    //½«ÆðÊ¼×ø±êµÄÖµÓëÖÕµã×ø±êµÄÖµ»¥»»
               //         y=y1;y1=y2;y2=y;
               //     }
               //     if(x1!=x2)              //Èç¹ûÊÇ»­Ò»ÌõÐ±Ïß
               //     {
               //         for( x = x1; x <= x2; x++ )
               //         {
               //             if( y2>y1 )
               //                 OLED_DrawPoint(x, (u8)(y1 + (u16)(y2 - y1) * (u16)x / (u16)(x2 - x1)), mode);
               //             else
               //                 OLED_DrawPoint(x, (u8)(y1 - (u16)(y1 - y2) * (u16)x / (u16)(x2 - x1)), mode);
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 24  

               //         }        
               //     }
               //     else
               //     {
               //         if( y1>y2 )
               //         {
               //             for( y = y2; y <= y1; y++ )
               //                 OLED_DrawPoint(x1, y, mode);
               //         }
               //         else
               //         {
               //             for( y = y1; y <= y2; y++ )
               //                 OLED_DrawPoint(x1, y, mode);
               //         }
               //     }
               // }
               
               /**
                * @name OLED_DrawLineG_Dot
                * @brief OLED»­Ò»ÌõÐéÊµÏß(Î¢·Ö·¨)
                * @param x1y1£ºÆðµã×ø±ê
                * @param x2y2£ºÖÕµã×ø±ê
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @param dot:ÐéÊµÃÜ¶È,1£ºÊµÏß
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawLineG_Dot( u8 x1, u8 y1, u8 x2, u8 y2 , bit mode , u8 dot)      //OLED»­Ò»ÌõÐéÊµÏß£¬0£ºÏ¨Ãð
             - 1£ºµãÁÁ
               {
                   //ÏÈ¼ÆËãÔöÁ¿¦¤yºÍ¦¤x
                   u8 DeltaX = abs(x2 - x1);
                   u8 DeltaY = abs(y2 - y1);
                   u8 dm, i;           //¶¨Òå·Ö¸î»ù×¼£¬Ñ­»·±äÁ¿
                   float dx, dy;       //¶¨Òå±ä»¯Á¿
                   float x, y;         //¶¨ÒåÐèÒªÏÔÊ¾µÄ×ø±êÖµ
               
                   if(DeltaX >= DeltaY)  //Ñ¡Ôñ½Ï³¤µÄ±ßÎª»ù×¼
                       dm = DeltaX;
                   else
                       dm = DeltaY;
               
                   dx = (float)(x2 - x1) / dm;
                   dy = (float)(y2 - y1) / dm;
                   x = (float)x1 + 0.5;    //ËÄÉáÎåÈë
                   y = (float)y1 + 0.5;    //ËÄÉáÎåÈë
                   for ( i = 0; i <= dm; i++)
                   {
                       if(!(i%dot) || i==1)
                       OLED_DrawPoint(x, y, mode);
                       x += dx;
                       y += dy;
                   }
               }
               
               // /**
               //  * @name OLED_DrawRectangleG
               //  * @brief OLED»­Ò»¸ö¾ØÐÎ
               //  * @param x1y1£ºÆðµã×ø±ê
               //  * @param x2y2£ºÖÕµã×ø±ê
               //  * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
               //  * @return ÎÞ
               //  * @version °æ±¾£ºv1.0
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 25  

               //  * @date ÈÕÆÚ£º2024-1-4
               //  * @author ×÷Õß£ºÏ«
               //  * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
               //  */
               // void OLED_DrawRectangleG(u8 x1, u8 y1, u8 x2, u8 y2 , bit mode)    //OLED»­Ò»¸ö¾ØÐÎ
               // {
               //     OLED_DrawLineG(x1, y1, x2, y1, mode);
               //     OLED_DrawLineG(x2, y1, x2, y2, mode);
               //     OLED_DrawLineG(x2, y2, x1, y2, mode);
               //     OLED_DrawLineG(x1, y2, x1, y1, mode);
               // }
               
               /**
                * @name OLED_DrawFrameG
                * @brief OLED»­Ò»¸ö·½¿ò
                * @param x0y0£ºÆðµã×ø±ê
                * @param x1y1£ºÖÕµã×ø±ê
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawFrameG(u8 x0, u8 y0, u8 x1, u8 y1, bit mode)  //OLED»­Ò»¸ö·½¿ò
               {
                   OLED_DrawLineG_Dot(x0, y0, x1, y0, mode, 1);
                   OLED_DrawLineG_Dot(x1, y0, x1, y1, mode, 1);
                   OLED_DrawLineG_Dot(x1, y1, x0, y1, mode, 1);
                   OLED_DrawLineG_Dot(x0, y1, x0, y0, mode, 1);
               }
               
               /**
                * @name OLED_DrawBlockG
                * @brief OLED»­Ò»¸öÊµÐÄ¿ò
                * @param x0y0£ºÆðµã×ø±ê
                * @param x1y1£ºÖÕµã×ø±ê
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawBlockG(u8 x0, u8 y0, u8 x1, u8 y1, bit mode)  //OLED»­Ò»¸öÊµÐÄ¿ò
               {
                   char i, d;
               
                   if(y1-y0 >= 0)
                       d = 1;
                   else
                       d = -1;
                   
                   for ( i = 0; i <= abs(y1-y0); i++)
                   {
                       OLED_DrawLineG_Dot(x0, (u8)(y0 + i * d), x1, (u8)(y0 + i * d), mode, 1);
                       OLED_Refresh_Gram();
                   }
                   // OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawBox
                * @brief »­¿ÕÊµÐÄ¾ØÐÎ
                * @param x0y0£ºÆðµã×ø±ê
                * @param x1y1£ºÖÕµã×ø±ê
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 26  

                * @param fill:0£º¿ÕÐÄ 1£ºÊµÐÄ
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawBox(u8 x0, u8 y0, u8 x1, u8 y1, u8 fill, bit mode)        //»­¿ÕÊµÐÄ¾ØÐÎ
               {
                   int xstart, ystart, xend, yend, i;
               
                   if(x0 < x1) { xstart = x0; xend = x1;}
                   else        { xstart = x1; xend = x0;}
                   if(y0 < y1) { ystart = y0; yend = y1;}
                   else        { ystart = y1; yend = y0;}
               
                   if(fill == 0)  //¿ÕÐÄ
                   {
                       OLED_DrawLineG_Dot((u8)xstart, (u8)ystart, (u8)xend, (u8)ystart, mode, 1);
                       OLED_DrawLineG_Dot((u8)xstart, (u8)yend, (u8)xend, (u8)yend, mode, 1);
                       OLED_DrawLineG_Dot((u8)xstart, (u8)ystart, (u8)xstart, (u8)yend, mode, 1);
                       OLED_DrawLineG_Dot((u8)xend, (u8)ystart, (u8)xend, (u8)yend, mode, 1);
                   }
                   else if (fill == 1) //ÊµÐÄ
                   {
                       for ( i = ystart; i <= yend; i++)
                       {
                           OLED_DrawLineG_Dot((u8)xstart, (u8)i, (u8)xend, (u8)i, mode, 1);
                       }
                   }
               }
               
               /**
                * @name OLED_DrawCircleG
                * @brief OLED»­Ò»¸öÔ²ÐÎ
                * @param xy£ºÆðµã×ø±ê
                * @param r£º°ë¾¶
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawCircleG(u8 x0, u8 y0, u8 R, bit mode)      //OLED»­Ò»¸öÔ²ÐÎ
               {
                   float Rx, Ry, angle, Rad;
                   // OLED_DrawPoint(x0, y0, 1);
               
                   for ( angle = 0; angle < 360; angle+=1)
                   {
                       Rad = angle * 3.14 / 180;
               
                       Rx = R * cos(Rad);
                       Ry = R * sin(Rad);
               
                       OLED_DrawPoint(x0 + Rx, /*64 -*/ (y0 + Ry), mode);
                       // OLED_Refresh_Gram();
                   }
                   OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawEllipticG
                * @brief OLED»­Ò»¸öÍÖÔ²ÐÎ
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 27  

                * @param xy£ºÆðµã×ø±ê
                * @param R1£º³¤Öá
                * @param R2£º¶ÌÖá
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawEllipticG(u8 x0, u8 y0, u8 R1, u8 R2, bit mode)      //OLED»­Ò»¸öÍÖÔ²ÐÎ
               {
                   float Rx, Ry, angle, Rad;
                   // OLED_DrawPoint(x0, y0, 1);
               
                   for ( angle = 0; angle < 360; angle+=1)
                   {
                       Rad = angle * 3.14 / 180;
               
                       Rx = R1 * cos(Rad);
                       Ry = R2 * sin(Rad);
               
                       OLED_DrawPoint(x0 + Rx, /*64 -*/ (y0 + Ry), mode);
                       // OLED_Refresh_Gram();
                   }
                   OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawCircleG_Distance
                * @brief OLED»­Ò»¸öÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
                * @param xy£ºÆðµã×ø±ê
                * @param r£º°ë¾¶
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawCircleG_Distance(u8 x0,u8 y0, u8 R, bit mode) //OLED»­Ò»¸öÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
               {
                   int x = 0;
                   int y = R;
               
                   while (x<=y)
                   {
                       OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);   //ÓÒÏÂ1
                       OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);   //×óÏÂ1
                       OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);   //×óÉÏ1
                       OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);   //ÓÒÉÏ1
                       OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);   //ÓÒÏÂ2
                       OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);   //×óÏÂ2
                       OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);   //×óÉÏ2
                       OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);   //ÓÒÉÏ2
               
                       x++;
                       if( (x*x+y*y)>(R*R))
                           y--;
                       OLED_Refresh_Gram();
                   }
                   // OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawBlockCircleG_Distance
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 28  

                * @brief OLED»­Ò»¸öÊµÐÄÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
                * @param xy£ºÆðµã×ø±ê
                * @param r£º°ë¾¶
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawBlockCircleG_Distance(u8 x0,u8 y0, u8 R, bit mode) //OLED»­Ò»¸öÊµÐÄÔ²ÐÎ£¨¹´¹É¶¨Àí·¨£©
               {
                   int x = 0;
                   int y = R;
               
                   while (x<=y)
                   {
                       // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);
                       // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);
                       OLED_DrawLineG_Dot((u8)(x0 + x), (u8)(y0 + y), (u8)(x0 - x), (u8)(y0 + y), mode, 1);
                       // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);
                       // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);
                       OLED_DrawLineG_Dot((u8)(x0 - x), (u8)(y0 - y), (u8)(x0 + x), (u8)(y0 - y), mode, 1);
                       // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);
                       // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);
                       OLED_DrawLineG_Dot((u8)(x0 + y), (u8)(y0 + x), (u8)(x0 - y), (u8)(y0 + x), mode, 1);
                       // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);
                       // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);
                       OLED_DrawLineG_Dot((u8)(x0 - y), (u8)(y0 - x), (u8)(x0 + y), (u8)(y0 - x), mode, 1);
                       x++;
                       if( (x*x+y*y)>(R*R))
                           y--;
                       OLED_Refresh_Gram();
                   }
                   // OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawCircleG_Bresenham
                * @brief OLED»­Ò»¸öÔ²ÐÎ(Bresenham·¨)
                * @param xy£ºÆðµã×ø±ê
                * @param r£º°ë¾¶
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawCircleG_Bresenham(u8 x0, u8 y0, u8 R, bit mode)      //OLED»­Ò»¸öÔ²ÐÎ(Bresenham·¨)
               {
                   int x, y;
                   int di;
                   x = 0;
                   y = R;
                   di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
                   while (x <= y)
                   {
                       OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);   //ÓÒÏÂ1
                       OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);   //×óÏÂ1
                       OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);   //×óÉÏ1
                       OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);   //ÓÒÉÏ1
                       OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);   //ÓÒÏÂ2
                       OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);   //×óÏÂ2
                       OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);   //×óÉÏ2
                       OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);   //ÓÒÉÏ2
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 29  

               
                       x++;
                       //Ê¹ÓÃBresenhamËã·¨»­Ô²
                       if (di < 0)
                       di += 4 * x + 6;
                       else
                       {
                           di += 10 + 4 * (x - y);
                           y--;
                       }
                       OLED_Refresh_Gram();
                   }
                   // OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawBlockCircleG_Bresenham
                * @brief OLED»­Ò»¸öÊµÐÄÔ²ÐÎ(Bresenham·¨)
                * @param xy£ºÆðµã×ø±ê
                * @param r£º°ë¾¶
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawBlockCircleG_Bresenham(u8 x0, u8 y0, u8 R, bit mode)      //OLED»­Ò»¸öÊµÐÄÔ²ÐÎ(Bresenham·¨)
               {
                   int x, y;
                   int di;
                   x = 0;
                   y = R;
                   di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
                   while (x <= y)
                   {
                       // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 + y), mode);        //6
                       // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 + y), mode);        //1
                       OLED_DrawLineG_Dot((u8)(x0 + x), (u8)(y0 + y), (u8)(x0 - x), (u8)(y0 + y), mode, 1);
                       // OLED_DrawPoint((u8)(x0 - x), (u8)(y0 - y), mode);        //2
                       // OLED_DrawPoint((u8)(x0 + x), (u8)(y0 - y), mode);        //5
                       OLED_DrawLineG_Dot((u8)(x0 - x), (u8)(y0 - y), (u8)(x0 + x), (u8)(y0 - y), mode, 1);
                       // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 + x), mode);        //4
                       // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 + x), mode);        //3
                       OLED_DrawLineG_Dot((u8)(x0 + y), (u8)(y0 + x), (u8)(x0 - y), (u8)(y0 + x), mode, 1);
                       // OLED_DrawPoint((u8)(x0 - y), (u8)(y0 - x), mode);        //7
                       // OLED_DrawPoint((u8)(x0 + y), (u8)(y0 - x), mode);        //0
                       OLED_DrawLineG_Dot((u8)(x0 - y), (u8)(y0 - x), (u8)(x0 + y), (u8)(y0 - x), mode, 1);
               
                       x++;
                       //Ê¹ÓÃBresenhamËã·¨»­Ô²
                       if (di < 0)
                       di += 4 * x + 6;
                       else
                       {
                           di += 10 + 4 * (x - y);
                           y--;
                       }
                       OLED_Refresh_Gram();
                   }
                   // OLED_Refresh_Gram();
               }
               
               
               
               /**
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 30  

                * @name OLED_DrawRoundRectangleG
                * @brief OLED»­Ò»¸öÔ²½Ç¾ØÐÎ(Bresenham·¨)
                * @param xy£º¾ØÐÎÆðµã×ø±ê
                * @param x1y1:¾ØÐÎÖÕµã×ø±ê
                * @param R£ºÔ²½Ç°ë¾¶
                * @param fill:0£º¿ÕÐÄ 1£ºÊµÐÄ
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawRoundRectangleG(u8 x0, u8 y0, u8 x1, u8 y1, u8 R, u8 fill, bit mode)      //OLED»­Ò»¸öÔ²½Ç¾
             -ØÐÎ(Bresenham·¨)
               {
                   int x, y, di, i;
                   int xstart, ystart, xend, yend;
               
                   if(x0 < x1) { xstart = x0; xend = x1;}
                   else        { xstart = x1; xend = x0;}
                   if(y0 < y1) { ystart = y0; yend = y1;}
                   else        { ystart = y1; yend = y0;}
               
                   if (R > (u8)(xend - xstart) / 2 || R > (u8)(yend - ystart) / 2)
                       R = ((u8)(xend - xstart) < (u8)(yend - ystart)) ? ((u8)(xend - xstart) / 2) : ((u8)(yend - ystart
             -) / 2);
               
                   x = 0;
                   y = R;
                   di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
                   
                   if( fill == 0)
                   {   //¿ÕÐÄ
                       while (x <= y)
                       {
                           OLED_DrawPoint((u8)(xstart + R - x), (u8)(ystart + R - y), mode);   //×óÉÏ1
                           OLED_DrawPoint((u8)(xstart + R - y), (u8)(ystart + R - x), mode);   //×óÉÏ2
                           OLED_DrawPoint((u8)(xend - R + x), (u8)(ystart + R - y), mode);   //ÓÒÉÏ1
                           OLED_DrawPoint((u8)(xend - R + y), (u8)(ystart + R - x), mode);   //ÓÒÉÏ2
                           OLED_DrawPoint((u8)(xstart + R - x), (u8)(yend - R + y), mode);   //×óÏÂ1
                           OLED_DrawPoint((u8)(xstart + R - y), (u8)(yend - R + x), mode);   //×óÏÂ2
                           OLED_DrawPoint((u8)(xend - R + x), (u8)(yend - R + y), mode);   //ÓÒÏÂ1
                           OLED_DrawPoint((u8)(xend - R + y), (u8)(yend - R + x), mode);   //ÓÒÏÂ2
               
                           
                           //Ê¹ÓÃBresenhamËã·¨»­Ô²
                           if (di < 0)
                           di += 4 * x + 6;
                           else
                           {
                               di += 10 + 4 * (x - y);
                               y--;
                           }
                           x++;
                           // OLED_Refresh_Gram();
                       }
               
                       OLED_DrawLineG_Dot((u8)(xstart + R + 1), (u8)ystart, (u8)(xend - R - 1), (u8)ystart, mode, 1);
                       OLED_DrawLineG_Dot((u8)(xstart + R + 1), (u8)yend, (u8)(xend - R - 1), (u8)yend, mode, 1);
                       OLED_DrawLineG_Dot((u8)xstart, (u8)(ystart + R + 1), (u8)xstart, (u8)(yend - R - 1), mode, 1);
                       OLED_DrawLineG_Dot((u8)xend, (u8)(ystart + R + 1), (u8)xend, (u8)(yend - R - 1), mode, 1);
                   }
                   else if( fill == 1)
                   {   //ÊµÐÄ
                       while (x <= y)
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 31  

                       {
                           OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(ystart + R - y), (u8)(xend - R + x), (u8)(ystar
             -t + R - y), mode, 1);
                           OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(ystart + R - x), (u8)(xend - R + y), (u8)(ystar
             -t + R - x), mode, 1);
                           OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(yend - R + y), (u8)(xend - R + x), (u8)(yend - 
             -R + y), mode, 1);
                           OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(yend - R + x), (u8)(xend - R + y), (u8)(yend - 
             -R + x), mode, 1);
                           
                           //Ê¹ÓÃBresenhamËã·¨»­Ô²
                           if (di < 0)
                           di += 4 * x + 6;
                           else
                           {
                               di += 10 + 4 * (x - y);
                               y--;
                           }
                           x++;
                           // OLED_Refresh_Gram();
                       }
               
                       for ( i = ystart + R + 1; i <= yend - R -1; i++)
                       {
                           OLED_DrawLineG_Dot((u8)xstart, (u8)i, (u8)xend, (u8)i, mode, 1);
                       }
                   }
                   // OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawWideRoundRectangleG
                * @brief OLED»­Ò»¸ö¿í±ßÔ²½Ç¾ØÐÎ(Bresenham·¨)
                * @param xy£º¾ØÐÎÆðµã×ø±ê
                * @param x1y1:¾ØÐÎÖÕµã×ø±ê
                * @param R£ºÔ²½Ç°ë¾¶
                * @param mode:0£ºÏ¨Ãð 1£ºµãÁÁ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_DrawWidthRoundRectangleG(u8 x0, u8 y0, u8 x1, u8 y1, u8 R, u8 width, bit mode)      //OLED»­Ò»¸
             -ö¿í±ßÔ²½Ç¾ØÐÎ(Bresenham·¨)
               {
                   int x, y, di;
                   int xstart, ystart, xend, yend;
               
                   if (width <= 1)
                   {
                       OLED_DrawRoundRectangleG(x0, y0, x1, y1, R, 0, 1);
                       return;
                   }
                   
               
                   //»­´óÉÈÐÎ
                   if(x0 < x1) { xstart=x0; xend = x1;}
                   else        { xstart=x1; xend = x0;}
                   if(y0 < y1) { ystart=y0; yend = y1;}
                   else        { ystart=y1; yend = y0;}
               
                   if (R > (u8)(xend - xstart) / 2 || R > (u8)(yend - ystart) / 2)
                       R = ((u8)(xend - xstart) < (u8)(yend - ystart)) ? ((u8)(xend - xstart) / 2) : ((u8)(yend - ystart
             -) / 2);
               
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 32  

                   x = 0;
                   y = R;
                   di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
                   
               
                   while (x <= y)
                   {
                       OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(ystart + R - y), (u8)(xstart + R - x), (u8)(ystart 
             -+ R), mode, 1);
                       OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(ystart + R - x), (u8)(xstart + R - y), (u8)(ystart 
             -+ R), mode, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(ystart + R - y), (u8)(xend - R + x), (u8)(ystart + R)
             -, mode, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(ystart + R - x), (u8)(xend - R + y), (u8)(ystart + R)
             -, mode, 1);
                       OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(yend - R + y), (u8)(xstart + R - x), (u8)(yend - R)
             -, mode, 1);
                       OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(yend - R + x), (u8)(xstart + R - y), (u8)(yend - R)
             -, mode, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(yend - R + y), (u8)(xend - R + x), (u8)(yend - R), mo
             -de, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(yend - R + x), (u8)(xend - R + y), (u8)(yend - R), mo
             -de, 1);
                       
                       //Ê¹ÓÃBresenhamËã·¨»­Ô²
                       if (di < 0)
                       di += 4 * x + 6;
                       else
                       {
                           di += 10 + 4 * (x - y);
                           y--;
                       }
                       x++;
                   }
               
                   OLED_DrawBox((u8)(xstart + R + 1), (u8)(ystart), (u8)(xend - R - 1), (u8)(ystart + width - 1), 1, mod
             -e);
                   OLED_DrawBox((u8)(xstart + R + 1), (u8)(yend - width + 1), (u8)(xend - R - 1), (u8)(yend), 1, mode);
                   OLED_DrawBox((u8)(xstart), (u8)(ystart + R + 1), (u8)(xstart + width - 1), (u8)(yend - R - 1), 1, mod
             -e);
                   OLED_DrawBox((u8)(xend - width + 1), (u8)(ystart + R + 1), (u8)(xend), (u8)(yend - R - 1), 1, mode);
               
                   //»­²Á³ýÐ¡ÉÈÐÎ
                   if(x0 < x1) { xstart = x0 + width; xend = x1 - width;}
                   else        { xstart = x1 + width; xend = x0 - width;}
                   if(y0 < y1) { ystart = y0 + width; yend = y1 - width;}
                   else        { ystart = y1 + width; yend = y0 - width;}
                   R -= width;
                   if (R > (u8)(xend - xstart) / 2 || R > (u8)(yend - ystart) / 2)
                       R = ((u8)(xend - xstart) < (u8)(yend - ystart)) ? ((u8)(xend - xstart) / 2) : ((u8)(yend - ystart
             -) / 2);
               
                   x = 0;
                   y = R;
                   di = 3 - (R << 1);       //ÅÐ¶ÏÏÂ¸öµãÎ»ÖÃµÄ±êÖ¾
                   
               
                   while (x <= y)
                   {
                       OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(ystart + R - y), (u8)(xstart + R - x), (u8)(ystart 
             -+ R), ~mode, 1);
                       OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(ystart + R - x), (u8)(xstart + R - y), (u8)(ystart 
             -+ R), ~mode, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(ystart + R - y), (u8)(xend - R + x), (u8)(ystart + R)
             -, ~mode, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(ystart + R - x), (u8)(xend - R + y), (u8)(ystart + R)
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 33  

             -, ~mode, 1);
                       OLED_DrawLineG_Dot((u8)(xstart + R - x), (u8)(yend - R + y), (u8)(xstart + R - x), (u8)(yend - R)
             -, ~mode, 1);
                       OLED_DrawLineG_Dot((u8)(xstart + R - y), (u8)(yend - R + x), (u8)(xstart + R - y), (u8)(yend - R)
             -, ~mode, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + x), (u8)(yend - R + y), (u8)(xend - R + x), (u8)(yend - R), ~m
             -ode, 1);
                       OLED_DrawLineG_Dot((u8)(xend - R + y), (u8)(yend - R + x), (u8)(xend - R + y), (u8)(yend - R), ~m
             -ode, 1);
                       
                       //Ê¹ÓÃBresenhamËã·¨»­Ô²
                       if (di < 0)
                       di += 4 * x + 6;
                       else
                       {
                           di += 10 + 4 * (x - y);
                           y--;
                       }
                       x++;
                   }
                   // OLED_Refresh_Gram();
               }
               
               /**
                * @name OLED_DrawSin
                * @brief »­ÕýÏÒº¯Êý
                * @param ÎÞ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024
                * @author ×÷Õß£º
                * @note ×¢ÊÍ£º
                */
               void OLED_DrawSin()     //»­ÕýÏÒº¯Êý
               {
                   u8 a = 8;   //XÖáÏµÊý
                   u8 b = 20;  //YÖáÏµÊý
                   u8 x0 = 40, y0 = 32;    //ÆðÊ¼µã£¬½áºÏºóÎÄ£¬×îºÃ¿ØÖÆÔÚÖÐÐÄµã
                   //x0 = 63 - 180/a
               
                   float Si, Sx, Sy, Rad;
               
                   for ( Si = 0; Si <= 360; Si+= 1)
                   {
                       Rad = Si * 3.14 / 180;
                       Sx = Si / /*ÏµÊý*/ a;               //×î×ó¶Ë£ºx0+0*a£¬×îÓÒ¶Ë£ºx0+360/a
                       Sy = sin(Rad) * /*ÏµÊý*/ b;     //×î¸ßµã£ºy0-1*b£¬×îµÍµã£ºy0+1*b
                       OLED_DrawPoint(Sx + x0, 64 - (Sy + y0), 1);
                       OLED_RefreshPart_Gram(30, 1, 60, 6);
               
                       OLED_ShowNum(35, 7, Si, 3, 6, 0);
                   }
               }
               
               /**
                * @name ButtonWave
                * @brief °´¼ü¿ØÖÆÏÔÊ¾·½²¨
                * @param ÎÞ
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£º
                * @note ×¢ÊÍ£º
                */
               void ButtonWave()   //°´¼ü¿ØÖÆÏÔÊ¾·½²¨
               {
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 34  

                   u8 Xtime;
               
                   char Range01 = 50;
                   char Range02 = 10;
                   for ( Xtime = 127; Xtime > 0; Xtime--)
                       WaveData[Xtime] = WaveData[Xtime - 1];
               
                   if(P54)
                       WaveData[0] = Range02;
                   else
                       WaveData[0] = Range01;
               
                   OLED_GRAM_Clear(0);
               
                   for ( Xtime = 0; Xtime < 127; Xtime++)
                       OLED_DrawLineG_Dot(Xtime, (u8)(63 - WaveData[Xtime]), (u8)(Xtime + 1), (u8)(63 - WaveData[Xtime +
             - 1]), 1, 1);
               
                   OLED_Refresh_Gram();
                   delay_oled_ms(50);
               }
               
               
               
               /**
                * @name OLED_ShowCharG
                * @brief ÔÚÖ¸¶¨Î»ÖÃÏÔÊ¾Ò»¸ö×Ö·û,°üÀ¨²¿·Ö×Ö·û
                * @param x:0~127
                * @param y:0~7
                * @param chr:
                * @param charSize:Ñ¡Ôñ×ÖÌå16(¸ß¶ÈÕ¼2ÐÐ)/6(¸ß¶ÈÕ¼1ÐÐ)
                * @param Is_Reverse:Ä£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_ShowCharG(u8 x,u8 y,u8 chr, u8 charSize, u8 Is_Reverse)     // »º´æÏÔÊ¾Ò»¸ö×Ö·û
               {
                   u8 xdata i = 0;
                   chr -= ' '; //µÃµ½Æ«ÒÆºóµÄÖµ
                   if (x > Max_Column - 1)     //Èç¹ûÆðµãºá×ø±ê³¬¹ýÁËÆÁÄ»×îÓÒ²à
                   {
                       x = 0;                  //ÁÐ×ø±êxÖÃÁã£¬»Øµ½ÆÁÄ»×î×ó²à
                       y = y + 2;              //ÐÐ×ø±êyÏÂÒÆ2ÐÐ
                   }                           //½«×Ö·ûÏÔÊ¾ÔÚÆÁÄ»Ö¸¶¨ÐÐµÄÏÂÒ»ÐÐÆðµãÎ»ÖÃ
                   if (charSize == 16)                 //ÅÐ¶Ï×ÖºÅ´óÐ¡£¬¶ÁÈ¡F16X8×Ö¿â£¬Õ¼2ÐÐ
                   {   
                       for (i = 0; i<8; i++)           //Á½ÐÐ¸ß¶ÈµÄÉÏÐÐ
                           OLED_GRAM[128*y+(x+i)] = (Is_Reverse == 0?F16X8[chr][i]:~F16X8[chr][i]);
                       for (i = 0; i<8; i++)           //Á½ÐÐ¸ß¶ÈµÄÏÂÐÐ
                           OLED_GRAM[128*(y+1)+(x+i)] = (Is_Reverse == 0?F16X8[chr][i + 8]:~F16X8[chr][i + 8]);
                   }
                   else if(charSize == 6)              //ÅÐ¶Ï×ÖºÅ´óÐ¡£¬¶ÁÈ¡F8X6×Ö¿â£¬Õ¼1ÐÐ
                   {
                       for (i = 0; i<6; i++)
                           OLED_GRAM[128*y+(x+i)] = (Is_Reverse == 0?F8X6[chr][i]:~F8X6[chr][i]);
                   }
               }
               
               /**
                * @name OLED_ShowStringG
                * @brief ÏÔÊ¾Ò»¸ö×Ö·ûºÅ´®
                * @param xy£ºÆðµã×ø±ê
                * @param chr£ºÐèÒªÏÔÊ¾µÄ×Ö·û´®
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 35  

                * @param charSize£º×ÖÌå´óÐ¡16/6
                * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_ShowStringG(u8 x, u8 y, char *chr, u8 charSize, u8 Is_Reverse) //ÏÔÊ¾Ò»¸ö×Ö·ûºÅ´®
               {
                   u8 xdata j = 0;
                   while (chr[j] != '\0')      //¶ÁÈ¡µ½×Ö·û´®½áÊø·ûÖ®Ç°£¬Ò»Ö±Ñ­»·
                   {
                       OLED_ShowCharG(x, y, chr[j], charSize, Is_Reverse);  //´ÓµÚÒ»¸ö×Ö·û¿ªÊ¼ÏÔÊ¾
                       x += 8;         //ÏÔÊ¾ÍêÒ»¸ö×Ö·ûºó£¬Æðµãx×ø±êÓÒÒÆ8¸ñ£¬×¼±¸ÏÔÊ¾ÏÂÒ»¸ö×Ö·û
                       if (x>120)      //Èç¹ûÆðµãxÎ»ÖÃ´óÓÚ120£¬Îª±£Ö¤×Ö·ûÏÔÊ¾ÍêÕû£¬ÔÚÏÂÒ»ÐÐ×î×ó²àÎ»ÖÃÏÔÊ¾
                       {
                           x = 0;
                           y += 2;
                       }
                       j++;            //Ö¸ÕëÒÆµ½ÏÂÒ»¸ö×Ö·û
                   }
               }
               
               /**
                * @name OLED_ShowNumG
                * @brief »º´æÏÔÊ¾Ò»´®Êý×Ö
                * @param xy£ºÆðµã×ø±ê
                * @param num£ºÊýÖµ(0~4294967295)
                * @param len£ºÊý×ÖµÄÎ»Êý£¬¼´ÏÔÊ¾¼¸Î»ÓÐÐ§Êý×Ö,max=10
                * @param Size£º×ÖÌå´óÐ¡16/6
                * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_ShowNumG(u8 x, u8 y, u32 num, u8 len, u8 Size, u8 Is_Reverse)  //»º´æÏÔÊ¾Ò»´®Êý×Ö
               {
                   u8 xdata t, temp;
                   u8 xdata enshow = 0;
                   for (t = 0; t < len; t++)
                   {
                       temp = (num / OLED_Index(10, (u8)(len - t - 1))) % 10;      //È¡µÚtÎ»Êý×Ö
                       if (enshow == 0 && t < (len - 1))       //Èç¹ûÊý´®³¤¶ÈÐ¡ÓÚÖ¸¶¨³¤¶È
                       {
                           if (temp == 0)                      //¶à³öÀ´µÄÎ»ÓÃ¿Õ¸ñ²¹Æë
                           {
                               OLED_ShowCharG((u8)(x + 8 * t), y, ' ', Size, Is_Reverse);
                               continue;                       //¼ÌÐøÑ­»·ÅÐ¶Ï
                           }
                           else
                               enshow = 1;                     //Ö±µ½ÓÐÊý×ÖÎªÖ¹
                       }
                       OLED_ShowCharG((u8)(x + 8 * t), y, (u8)(temp + '0'), Size, Is_Reverse);  //´Ó¸ßµ½µÍÖðÎ»ÏÔÊ¾Êý×Ö
                   }
               }
               
               /**
                * @name OLED_ShowChineseG
                * @brief ÏÔÊ¾ºº×Ö
                * @param xy£ºÆðµã×ø±ê
                * @param no£ºÐèÒªÏÔÊ¾µÄ×Ö·û´®
                * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
                * @return ÎÞ
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 36  

                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2024-1-4
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºÍ¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_ShowChineseG(u8 x, u8 y, u8 no, u8 Is_Reverse) //»º´æÏÔÊ¾ºº×Ö
               {
                   u8 xdata i;
                   for (i = 0; i < 16; i++)    //ºº×ÖÉÏ°ë²¿·Ö×ø±ê£¨µÚxÁÐ£¬µÚyÐÐ£©
                   {
                       OLED_GRAM[128*y+(x+i)] = (Is_Reverse == 0?Hzk[2 * no][i]:~Hzk[2 * no][i]);
                   }
                   for (i = 0; i<16; i++)      //ºº×ÖÏÂ°ë²¿·Ö×ø±ê£¨µÚxÁÐ£¬µÚy+1ÐÐ£©
                   {
                       OLED_GRAM[128*y+(x+i)] = (Is_Reverse == 0?Hzk[2 * no + 1][i]:~Hzk[2 * no + 1][i]);
                   }
               }
               
               /**
                * @name OLED_ShowBMPG
                * @brief »º´æÏÔÊ¾BMPÍ¼Æ¬
                * @param x0y0£ºÆðÊ¼µã×ø±ê(x,y),xµÄ·¶Î§0-127£¬yÎªÒ³µÄ·¶Î§0-7
                * @param x1y1£ºÍ¼Æ¬µÄÏñËØ£¨ÓëÊµ¼ÊÈ¡Ä£µÄÍ¼Æ¬ÏñËØÒ»ÖÂ£©
                * @param BMP[]£ºÐèÒªÏÔÊ¾BMP
                * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
                * @return ÎÞ
                * @version °æ±¾£ºv1.0
                * @date ÈÕÆÚ£º2023-12-31
                * @author ×÷Õß£ºÏ«
                * @note ×¢ÊÍ£ºx1-x0=Í¼Æ¬µÄÊµ¼ÊÏñËØ³¤¶È y1-y0=Í¼Æ¬µÄÊµ¼ÊÏñËØ¿í¶È
                *           Í¨¹ý»º³åÊý×é»æÖÆ£¬ÐèÒªÅäºÏOLED_Refresh_Gramº¯ÊýÊ¹ÓÃ
                */
               void OLED_ShowBMPG(u8 x0, u8 y0, u8 x1, u8 y1, u8 BMP[], u8 Is_Reverse)  //»º´æÏÔÊ¾BMPÍ¼Æ¬
               {
                   u16 xdata j = 0;
                   u8 xdata x, y;
                   if (y1 % 8 == 0) 
                   y1 = y1 / 8;
                   else 
                   y1 = y1 / 8 + 1;
                   for (y = y0; y<y1; y++)
                   {
                       for (x = x0; x<x1; x++)
                       {
                           OLED_GRAM[128*y0 + x] = (Is_Reverse == 0?BMP[j++]:~BMP[j++], OLED_DATA);
                       }
                   }
               }
               
               
               
               /****************************************************************************/
               /****************************************************************************/
               /****************************************************************************/
               #else                                   //2£ºÖ¸ÁîÄ£Ê½
               
               #endif
 2296          
 2297          
 2298          
 2299          
 2300          
 2301          /**
 2302           * @name OLED_ShowChar
 2303           * @brief ÔÚÖ¸¶¨Î»ÖÃÏÔÊ¾Ò»¸ö×Ö·û,°üÀ¨²¿·Ö×Ö·û
 2304           * @param x:0~127
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 37  

 2305           * @param y:0~63
 2306           * @param chr:
 2307           * @param charSize:Ñ¡Ôñ×ÖÌå16(¸ß¶ÈÕ¼2ÐÐ)/6(¸ß¶ÈÕ¼1ÐÐ)
 2308           * @param Is_Reverse:Ä£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 2309           * @return ÎÞ
 2310           * @version °æ±¾£ºv1.0
 2311           * @date ÈÕÆÚ£º2023-12-30
 2312           * @author ×÷Õß£ºÏ«
 2313           * @note ×¢ÊÍ£º
 2314           */
 2315          void OLED_ShowChar(u8 x, u8 y, u8 chr, u8 charSize, u8 Is_Reverse)  //ÔçÖ¸¶¨Î»ÖÃÏÔÊ¾Ò»¸ö×Ö·û
 2316          {
 2317   1          u8 xdata i = 0;
 2318   1          chr -= ' '; //µÃµ½Æ«ÒÆºóµÄÖµ
 2319   1          if (x > Max_Column - 1)     //Èç¹ûÆðµãºá×ø±ê³¬¹ýÁËÆÁÄ»×îÓÒ²à
 2320   1          {
 2321   2              x = 0;                  //ÁÐ×ø±êxÖÃÁã£¬»Øµ½ÆÁÄ»×î×ó²à
 2322   2              y = y + 2;              //ÐÐ×ø±êyÏÂÒÆ2ÐÐ
 2323   2          }                           //½«×Ö·ûÏÔÊ¾ÔÚÆÁÄ»Ö¸¶¨ÐÐµÄÏÂÒ»ÐÐÆðµãÎ»ÖÃ
 2324   1          if (charSize == 16)                 //ÅÐ¶Ï×ÖºÅ´óÐ¡£¬¶ÁÈ¡F16X8×Ö¿â£¬Õ¼2ÐÐ
 2325   1          {
 2326   2              OLED_Set_Pos(x, y);             //Á½ÐÐ¸ß¶ÈµÄÉÏÐÐ
 2327   2              for (i = 0; i<8; i++)
 2328   2                  OLED_Write_Byte(Is_Reverse == 0?F16X8[chr][i]:~F16X8[chr][i], OLED_DATA);
 2329   2              OLED_Set_Pos(x, (u8)(y + 1));   //Á½ÐÐ¸ß¶ÈµÄÏÂÐÐ
 2330   2              for (i = 0; i<8; i++)
 2331   2                  OLED_Write_Byte(Is_Reverse == 0?F16X8[chr][i + 8]:~F16X8[chr][i + 8], OLED_DATA);
 2332   2          }
 2333   1          else if(charSize == 6)              //ÅÐ¶Ï×ÖºÅ´óÐ¡£¬¶ÁÈ¡F8X6×Ö¿â£¬Õ¼1ÐÐ
 2334   1          {
 2335   2              OLED_Set_Pos(x, y);
 2336   2              for (i = 0; i<6; i++)
 2337   2                  OLED_Write_Byte(Is_Reverse == 0?F8X6[chr][i]:~F8X6[chr][i], OLED_DATA);
 2338   2          }
 2339   1      }
 2340          
 2341          /**
 2342           * @name OLED_ShowString
 2343           * @brief ÏÔÊ¾Ò»¸ö×Ö·ûºÅ´®
 2344           * @param xy£ºÆðµã×ø±ê
 2345           * @param chr£ºÐèÒªÏÔÊ¾µÄ×Ö·û´®
 2346           * @param charSize£º×ÖÌå´óÐ¡16/6
 2347           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 2348           * @return ÎÞ
 2349           * @version °æ±¾£ºv1.0
 2350           * @date ÈÕÆÚ£º2023-12-30
 2351           * @author ×÷Õß£ºÏ«
 2352           * @note ×¢ÊÍ£º
 2353           */
 2354          void OLED_ShowString(u8 x, u8 y, char *chr, u8 charSize, u8 Is_Reverse) //ÏÔÊ¾Ò»¸ö×Ö·ûºÅ´®
 2355          {
 2356   1          u8 xdata j = 0;
 2357   1          while (chr[j] != '\0')      //¶ÁÈ¡µ½×Ö·û´®½áÊø·ûÖ®Ç°£¬Ò»Ö±Ñ­»·
 2358   1          {
 2359   2              OLED_ShowChar(x, y, chr[j], charSize, Is_Reverse);  //´ÓµÚÒ»¸ö×Ö·û¿ªÊ¼ÏÔÊ¾
 2360   2              x += 8;         //ÏÔÊ¾ÍêÒ»¸ö×Ö·ûºó£¬Æðµãx×ø±êÓÒÒÆ8¸ñ£¬×¼±¸ÏÔÊ¾ÏÂÒ»¸ö×Ö·û
 2361   2              if (x>120)      //Èç¹ûÆðµãxÎ»ÖÃ´óÓÚ120£¬Îª±£Ö¤×Ö·ûÏÔÊ¾ÍêÕû£¬ÔÚÏÂÒ»ÐÐ×î×ó²àÎ»ÖÃÏÔÊ¾
 2362   2              {
 2363   3                  x = 0;
 2364   3                  y += 2;
 2365   3              }
 2366   2              j++;            //Ö¸ÕëÒÆµ½ÏÂÒ»¸ö×Ö·û
 2367   2          }
 2368   1      }
 2369          
 2370          /**
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 38  

 2371           * @name OLED_ShowNum
 2372           * @brief ÏÔÊ¾Ò»´®Êý×Ö
 2373           * @param xy£ºÆðµã×ø±ê
 2374           * @param num£ºÊýÖµ(0~4294967295)
 2375           * @param len£ºÊý×ÖµÄÎ»Êý£¬¼´ÏÔÊ¾¼¸Î»ÓÐÐ§Êý×Ö,max=10
 2376           * @param Size£º×ÖÌå´óÐ¡16/6
 2377           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 2378           * @return ÎÞ
 2379           * @version °æ±¾£ºv1.0
 2380           * @date ÈÕÆÚ£º2023-12-30
 2381           * @author ×÷Õß£ºÏ«
 2382           * @note ×¢ÊÍ£º
 2383           */
 2384          void OLED_ShowNum(u8 x, u8 y, u32 num, u8 len, u8 Size, u8 Is_Reverse)  //ÏÔÊ¾Ò»´®Êý×Ö
 2385          {
 2386   1          u8 xdata t, temp;
 2387   1          u8 xdata enshow = 0;
 2388   1          for (t = 0; t < len; t++)
 2389   1          {
 2390   2              temp = (num / OLED_Index(10, (u8)(len - t - 1))) % 10;      //È¡µÚtÎ»Êý×Ö
 2391   2              if (enshow == 0 && t < (len - 1))       //Èç¹ûÊý´®³¤¶ÈÐ¡ÓÚÖ¸¶¨³¤¶È
 2392   2              {
 2393   3                  if (temp == 0)                      //¶à³öÀ´µÄÎ»ÓÃ¿Õ¸ñ²¹Æë
 2394   3                  {
 2395   4                      OLED_ShowChar((u8)(x + 8 * t), y, ' ', Size, Is_Reverse);
 2396   4                      continue;                       //¼ÌÐøÑ­»·ÅÐ¶Ï
 2397   4                  }
 2398   3                  else
 2399   3                      enshow = 1;                     //Ö±µ½ÓÐÊý×ÖÎªÖ¹
 2400   3              }
 2401   2              OLED_ShowChar((u8)(x + 8 * t), y, (u8)(temp + '0'), Size, Is_Reverse);  //´Ó¸ßµ½µÍÖðÎ»ÏÔÊ¾Êý×Ö
 2402   2          }
 2403   1      }
 2404          
 2405          /**
 2406           * @name OLED_ShowChinese
 2407           * @brief ÏÔÊ¾ºº×Ö
 2408           * @param xy£ºÆðµã×ø±ê
 2409           * @param no£ºÐèÒªÏÔÊ¾µÄ×Ö·û´®
 2410           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 2411           * @return ÎÞ
 2412           * @version °æ±¾£ºv1.0
 2413           * @date ÈÕÆÚ£º2023-12-31
 2414           * @author ×÷Õß£ºÏ«
 2415           * @note ×¢ÊÍ£º
 2416           */
 2417          void OLED_ShowChinese(u8 x, u8 y, u8 no, u8 Is_Reverse) //ÏÔÊ¾ºº×Ö
 2418          {
 2419   1          u8 xdata i;
 2420   1          OLED_Set_Pos(x, y);             //ºº×ÖÉÏ°ë²¿·Ö×ø±ê£¨µÚxÁÐ£¬µÚyÐÐ£©
 2421   1          for (i = 0; i < 16; i++)
 2422   1          {
 2423   2              OLED_Write_Byte(Is_Reverse == 0?Hzk[2 * no][i]:~Hzk[2 * no][i], OLED_DATA);
 2424   2          }
 2425   1          OLED_Set_Pos(x, (u8)(y + 1));   //ºº×ÖÏÂ°ë²¿·Ö×ø±ê£¨µÚxÁÐ£¬µÚy+1ÐÐ£©
 2426   1          for (i = 0; i<16; i++)
 2427   1          {
 2428   2              OLED_Write_Byte(Is_Reverse == 0?Hzk[2 * no + 1][i]:~Hzk[2 * no + 1][i], OLED_DATA);
 2429   2          }
 2430   1      }
 2431          
 2432          
 2433          /**
 2434           * @name OLED_ShowBMP
 2435           * @brief ÏÔÊ¾BMPÍ¼Æ¬
 2436           * @param x0y0£ºÆðÊ¼µã×ø±ê(x,y),xµÄ·¶Î§0-127£¬yÎªÒ³µÄ·¶Î§0-7
C251 COMPILER V5.60.0,  oled12824_iic                                                      11/01/26  10:39:44  PAGE 39  

 2437           * @param x1y1£ºÍ¼Æ¬µÄÏñËØ£¨ÓëÊµ¼ÊÈ¡Ä£µÄÍ¼Æ¬ÏñËØÒ»ÖÂ£©
 2438           * @param BMP[]£ºÐèÒªÏÔÊ¾BMP
 2439           * @param Is_Reverse£ºÄ£Ê½ 0£ººÚµ×°××Ö 1£º°×µ×ºÚ×Ö
 2440           * @return ÎÞ
 2441           * @version °æ±¾£ºv1.0
 2442           * @date ÈÕÆÚ£º2023-12-31
 2443           * @author ×÷Õß£ºÏ«
 2444           * @note ×¢ÊÍ£ºx1-x0=Í¼Æ¬µÄÊµ¼ÊÏñËØ³¤¶È y1-y0=Í¼Æ¬µÄÊµ¼ÊÏñËØ¿í¶È
 2445           */
 2446          void OLED_ShowBMP(u8 x0, u8 y0, u8 x1, u8 y1, u8 BMP[], u8 Is_Reverse)  //ÏÔÊ¾BMPÍ¼Æ¬
 2447          {
 2448   1          u16 xdata j = 0;
 2449   1          u8 xdata x, y;
 2450   1          if (y1 % 8 == 0) 
 2451   1          y1 = y1 / 8;
 2452   1          else 
 2453   1          y1 = y1 / 8 + 1;
 2454   1          for (y = y0; y<y1; y++)
 2455   1          {
 2456   2              OLED_Set_Pos(x0, y);
 2457   2              for (x = x0; x<x1; x++)
 2458   2              {
 2459   3                  OLED_Write_Byte(Is_Reverse == 0?BMP[j++]:~BMP[j++], OLED_DATA);
 2460   3              }
 2461   2          }
 2462   1      }
 2463          
 2464          
 2465          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =      7596     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =      2712         12
  xdata-const size     =    ------     ------
  edata size           =      1024        146
  bit size             =    ------         18
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =      2599     ------
End of Module Information.


C251 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
